<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Python中獲取絕對路徑的方法</title>
    <url>/2020/05/15/Python%E4%B8%AD%E7%8D%B2%E5%8F%96%E7%B5%95%E5%B0%8D%E8%B7%AF%E5%BE%91%E7%9A%84%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>首先，相對路徑即是py文件所在資料夾的路徑，例如在以下目錄中，<code>1.txt</code>關於<code>1.py</code>的相對路徑即為<code>1.txt</code>。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">├── 1.py</span><br><span class="line">├── 1.txt</span><br></pre></td></tr></table></figure>
<p>雖然相對路徑在PowerShell等大部分環境下可以被有效識別，不過在某些環境（例如VScode）下，使用相對路徑卻有可能出現報錯。</p>
<p>實際上，相對路徑的相容性並不高，這時使用絕對路徑便可以解決這些問題。這裡提供兩種得到絕對路徑的方法。以上文的<code>1.py</code>和<code>1.txt</code>為例：</p>
<ol>
<li><p>使用<code>sys.path</code></p>
<p><code>sys</code>模組包含了與Python解釋器和它的環境有關的函數，而<code>sys.path</code>是模組搜索路徑的字串列表，其中的第一項<code>path[0]</code>包含用來調用Python解釋器的腳本的目錄。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">absolute_path=sys.path[<span class="number">0</span>]+<span class="string">'/'</span>+relative_path</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用<code>globals()</code></p>
<p><code>globals()</code>是Python的一個內建函數，其返回儲存有訪問全局變數的方式的字典，而<code>&#39;__file__&#39;</code>鍵所對應的值即是py文件的絕對路徑。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">absolute_path=globals()[<span class="string">'__file__'</span>][:len(globals()[<span class="string">'__file__'</span>])-globals()[<span class="string">'__file__'</span>][::<span class="number">-1</span>].find(<span class="string">'\\'</span>)]+relative_path</span><br></pre></td></tr></table></figure>
</li>
</ol>
]]></content>
      <categories>
        <category>技術</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python實現RSA算法中的解密過程</title>
    <url>/2020/05/07/Python%E5%AF%A6%E7%8F%BERSA%E7%AE%97%E6%B3%95%E4%B8%AD%E7%9A%84%E8%A7%A3%E5%AF%86%E9%81%8E%E7%A8%8B/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>RSA加密算法是一種非對稱加密算法，由Ron Rivest、Adi Shamir和Leonard Adleman在1977年共同提出。下文先簡要介紹RSA加密的原理，再介紹如何使用Python進行解密。</p>
<h1 id="RSA算法的加密"><a href="#RSA算法的加密" class="headerlink" title="RSA算法的加密"></a>RSA算法的加密</h1><h2 id="生成公鑰和私鑰"><a href="#生成公鑰和私鑰" class="headerlink" title="生成公鑰和私鑰"></a>生成公鑰和私鑰</h2><p>第一步：任取不相等的兩質數$p,q$。（此處$p,q$的大小決定了破譯難度）</p>
<p>第二步：$n=pq$。（$n$的二進位制的長度即為金鑰長度)</p>
<p>第三步：計算$n$的Euler函數$φ(n) = (p-1)(q-1)$。</p>
<p>第四步：任取整數$e$滿足$1&lt;e&lt;φ(n)$，且$e$與$φ(n)$互質。</p>
<p>第五步：計算出$e$對於$φ(n)$的模反元素$d$。</p>
<p>第六步：公鑰為$(n,e)$，私鑰為$(n,d)$。</p>
<h2 id="加密"><a href="#加密" class="headerlink" title="加密"></a>加密</h2><p>第一步：取需要加密的整數$m$。（此處$m&lt;n$）（若要加密字串等，可用ASCII編碼先轉化為整數）</p>
<p>第二步：密文$c\equiv m^e({\rm mod}\ n)$。</p>
<ul>
<li>$n,e,c$是公開的，$p,q,φ(n),d,m$是私密的。</li>
</ul>
<h1 id="RSA算法的解密"><a href="#RSA算法的解密" class="headerlink" title="RSA算法的解密"></a>RSA算法的解密</h1><p>首先，我們需要了解以下兩個算法：</p>
<h2 id="擴展Euclidean算法-EEA"><a href="#擴展Euclidean算法-EEA" class="headerlink" title="擴展Euclidean算法 (EEA)"></a>擴展Euclidean算法 (EEA)</h2><p>對於兩正整數$a,b$，我們有Euclidean算法（即輾轉相除法）來計算$gcd(a,b)$：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gcd</span><span class="params">(a,b)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> b==<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> gcd(b,a%b)</span><br></pre></td></tr></table></figure>
<p>由Bézout定理可知，存在整數$x,y$使得$ax+by=gcd(a,b)$成立。</p>
<p>相較於Euclidean算法，擴展Euclidean算法除了計算$gcd(a,b)$，還會得到$x,y$的值。</p>
<p>代碼如下：</p>
<p>（非遞迴）</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">eea</span><span class="params">(a,b)</span>:</span> </span><br><span class="line">    x,x1=<span class="number">1</span>,<span class="number">0</span></span><br><span class="line">    y,y1=<span class="number">0</span>,<span class="number">1</span></span><br><span class="line">    r,r1=a,b </span><br><span class="line">    <span class="keyword">if</span> b==<span class="number">0</span>: </span><br><span class="line">        <span class="keyword">return</span> a,<span class="number">1</span>,<span class="number">0</span>  </span><br><span class="line">    <span class="keyword">while</span> r1!=<span class="number">0</span>:</span><br><span class="line">        q=r//r1</span><br><span class="line">        r,r1=r1,r-q*r1</span><br><span class="line">        x,x1=x1,x-q*x1</span><br><span class="line">        y,y1=y1,y-q*y1</span><br><span class="line">    <span class="comment"># r is gcd(a,b)</span></span><br><span class="line">    <span class="comment"># ax+by=r</span></span><br><span class="line">    <span class="keyword">return</span> r,x,y</span><br></pre></td></tr></table></figure>
<p>（遞迴）</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">eea</span><span class="params">(a,b)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> b==<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> a,<span class="number">1</span>,<span class="number">0</span></span><br><span class="line">    r,x,y=eea(b,a%b)</span><br><span class="line">    <span class="comment"># ax+by=r</span></span><br><span class="line">    <span class="comment"># return r,x,y successively</span></span><br><span class="line">    <span class="keyword">return</span> r,y,x-a//b*y</span><br></pre></td></tr></table></figure>
<h2 id="Square-and-Multiply算法-SAMA"><a href="#Square-and-Multiply算法-SAMA" class="headerlink" title="Square-and-Multiply算法 (SAMA)"></a>Square-and-Multiply算法 (SAMA)</h2><p>對於三正整數$a,e,n$，我們有Square-and-Multiply算法來計算$a^e({\rm mod}\ n)$，其原理是：</p>
<p>取$e$的二進位制$e=(e_{k-1}…e_0)_2$（其中$k$為$e$的二進位制的長度），則有$e=\sum^{k-1}_{i=0}{e_i\cdot 2^i}$。</p>
<p>$x_0=a$</p>
<p>$x_1=(x_0^2\ {\rm mod}\ n)=(a^2\ {\rm mod}\ n)$</p>
<p>$…$</p>
<p>$x_i=(x_{i-1}^2\ {\rm mod}\ n)=(a^{2^i}\ {\rm mod}\ n)$</p>
<p>$…$</p>
<p>$x_{k-1}=(x_{k-2}^2\ {\rm mod}\ n)=(a^{2^{k-1} }\ {\rm mod}\ n)$</p>
<p>由此可得$a^e\equiv \prod^{k-1}_{i=0}{x_i^{e_i}} ({\rm mod}\ n)$。</p>
<p>代碼如下：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sam</span><span class="params">(a,e,n)</span>:</span></span><br><span class="line">    k=len(bin(e))<span class="number">-2</span></span><br><span class="line">    remainder=<span class="number">1</span></span><br><span class="line">    x=a </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(k): </span><br><span class="line">        <span class="keyword">if</span> bin(e)[-i<span class="number">-1</span>]==<span class="string">"1"</span>: </span><br><span class="line">            remainder*=x </span><br><span class="line">        x=x**<span class="number">2</span>%n </span><br><span class="line">    <span class="keyword">return</span> remainder%n</span><br></pre></td></tr></table></figure>
<h2 id="解密"><a href="#解密" class="headerlink" title="解密"></a>解密</h2><p>由$c\equiv m^e({\rm mod}\ n)$可證$c^d\equiv m({\rm mod}\ n)$，下給出證明過程：</p>
<p>知$ed\equiv1({\rm mod}\ φ(n))$，因此有$ed-1=lφ(n),(l\in\mathbb N_+)$；</p>
<p>由Euler定理，有$c^d\equiv m^{ed}\equiv m^{lφ(n)+1}\equiv m\cdot (m^{φ(n)})^l\equiv m\cdot 1^l\equiv m({\rm mod}\ n)$，得證。</p>
<p>因此，如果已知$(n,d,c)$，結合Square-and-Multiply算法即可得到原文$m$，代碼如下：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rsa_1</span><span class="params">(n,d,c)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> sam(c,d,n)</span><br></pre></td></tr></table></figure>
<p>同理，如果已知$(p,q,e,c)$，結合擴展Euclidean算法和Square-and-Multiply算法也可得到原文$m$，代碼如下：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rsa_2</span><span class="params">(p,q,e,c)</span>:</span></span><br><span class="line">    φ=(p<span class="number">-1</span>)*(q<span class="number">-1</span>)</span><br><span class="line">    d=eea(e,φ)[<span class="number">1</span>]%φ <span class="comment">#Ensure d&gt;0</span></span><br><span class="line">    n=p*q</span><br><span class="line">    <span class="keyword">return</span> sam(c,d,n)</span><br></pre></td></tr></table></figure>
<p>這是因為由$φ(n) = (p-1)(q-1)$和$ed\equiv1({\rm mod}\ φ(n))$可知$de+kφ(n) =1(k\in\mathbb Z) $，對$(e,φ(n))$使用擴展Euclidean算法即可得$d$，又由$c^d\equiv m({\rm mod}\ n)$可知對$(c,d,n)$使用Square-and-Multiply算法即可得$m$（此處也說明$d$必須是正數）。</p>
<h2 id="例題"><a href="#例題" class="headerlink" title="例題"></a>例題</h2><p>對密文$c$在RSA中進行解密，已知</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">p=<span class="number">92848022024833655041372304737256052921065477715975001419347548380734496823522565044177931242947122534563813415992433917108481569319894167972639736788613656007853719476736625612543893748136536594494005487213485785676333621181690463942417781763743640447405597892807333854156631166426238815716390011586838580891</span></span><br><span class="line">q=<span class="number">149600854933825512159828331527177109689118555212385170831387365804008437367913613643959968668965614270559113472851544758183282789643129469226548555150464780229538086590498853718102052468519876788192865092229749643546710793464305243815836267024770081889047200172952438000587807986096107675012284269101785114471</span></span><br><span class="line">e=<span class="number">4099852173630681822722339660229701793484497077549023050739406744299194740794285841565894857183257305962091658478256403457898496259755474199072635097327398971990092224918103250375455707498928712201945370461644425637423044616348028546654820134532012544433519158531485300462390097592776352017667386632661678681500542766835469056490039928380877979712159080905348869475217939844173751698241442662611990406492300411900572847532884748092860563495914734527293634873292356463076178294881900968373918292064527855306925898818421646057616238873254251939953144948550922456255743607156013509822605943382352582252129366170771186337</span></span><br><span class="line">c=<span class="number">1965004133006974659995314560167723896560162823992014763466676295156568780181324759118466356116827422439409513865820570400810380977333397895810023254515182242123244875173658899005048988942666876614798046351776061310094809679938914368938218289806790724992660151078718864505196754907261135221257146114289875149015431301569207527108638684989789729747097766650481983822742788958528594215002940645806662061041825912562593269329369550470854629711422167160350497882132054038403027493105855840606846063029571758386220434189610971724518330438082401592895354255430599515214166039595157639322144199213475742435020500518884278854</span></span><br></pre></td></tr></table></figure>
<p>使用代碼</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(tsa_2(p,q,e,c))</span><br></pre></td></tr></table></figure>
<p>可得</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">m=<span class="number">6307076265101868022401168220914091002094923647543913608078494521549403802210173444891094505706734673093765283572976861935581726849816923593651509857540611964713018709162664925976240947063856932023113689107118569968804329173281583483592095382533613111762918421362278333322916021933519728291798749842494918068962745956079827474452589542646246101220774107235973703726237733253085312380677531524226610656535104841419537111452876626825419473934925741346089252331195249707094812401729770078951956524070871949864300367817846976007250758036392548367298788322489841149673899984125317729640492807125318100997973696848942216291</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>技術</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>密碼學</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>Wallpaper Engine中圖片檔案的提取</title>
    <url>/2020/05/15/Wallpaper%20Engine%E4%B8%AD%E5%9C%96%E7%89%87%E6%AA%94%E6%A1%88%E7%9A%84%E6%8F%90%E5%8F%96/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>推薦訪問如下網頁（侵刪）：</p>
<p><a href="http://blog.repeater.vip/?p=196" target="_blank" rel="noopener">http://blog.repeater.vip/?p=196</a></p>
<p>Wallpaper Engine對於場景類（Scene）壁紙是使用以pkg為後綴的加密包儲存的（此處的pkg與塞班系統的pkg無關），連結中的pkg解包程序可以直接提取所有源檔案。</p>
]]></content>
      <categories>
        <category>軟體使用</category>
      </categories>
      <tags>
        <tag>Wallpaper Engine</tag>
      </tags>
  </entry>
  <entry>
    <title>Python實現Shamir金鑰分享算法中的解密過程</title>
    <url>/2020/05/26/Python%E5%AF%A6%E7%8F%BEShamir%E9%87%91%E9%91%B0%E5%88%86%E4%BA%AB%E7%AE%97%E6%B3%95%E4%B8%AD%E7%9A%84%E8%A7%A3%E5%AF%86%E9%81%8E%E7%A8%8B/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>Shamir的$(k,n)$金鑰分享算法將祕密分為$n$個子祕密，任意$k$個子祕密都可以恢復出$s$，而任意$k-1$個子祕密無法恢復出$s$。</p>
<p>Shamir金鑰分享算法（TSSS）最早由Shamir和Blackly在1970年基於Lagrange插值法提出。下文先簡要介紹Shamir金鑰分享算法加密的原理，再介紹如何使用Python進行解密。</p>
<h1 id="TSSS算法的加密"><a href="#TSSS算法的加密" class="headerlink" title="TSSS算法的加密"></a>TSSS算法的加密</h1><p>Shamir的$(k,n)$金鑰分享算法將祕密分為$n$個子祕密，任意$k$個子祕密都可以恢復密文$s$，而任意小於$k$個子祕密無法得到$s$的任何訊息。</p>
<h2 id="構造多項式"><a href="#構造多項式" class="headerlink" title="構造多項式"></a>構造多項式</h2><p>第一步：對於密文$s$，設其滿足$s\in\mathbb Z_p$，其中$p&gt;k$。（確保所有的運算都在有限域$\mathbb Z_p$中進行）</p>
<p>第二步：令$a_0=s$，並任取$k-1$個整數$a_1,a_2,…,a_{k-1}\in\mathbb Z_p$。</p>
<p>第三步：定義多項式$f(x)=\sum\limits^{k-1}_{i=0} {a_ix^i}({\rm mod}\ p)$。</p>
<h2 id="分發金鑰"><a href="#分發金鑰" class="headerlink" title="分發金鑰"></a>分發金鑰</h2><p>第一步：任取$n$個數$x_1,x_2,…,x_n$，分別計算$f(x_1),f(x_2),…,f(x_n)$。（一般可取$x_i=i$）</p>
<p>第二步：對於$n$個對象$P_1,P_2,…,P_n$。$\forall 1\leqslant i\leqslant n$，將$(x_i,f(x_i))$發送給$P_i$。</p>
<h1 id="TSSS算法的解密"><a href="#TSSS算法的解密" class="headerlink" title="TSSS算法的解密"></a>TSSS算法的解密</h1><p>首先，我們需要了解Lagrange插值法。</p>
<h2 id="Lagrange插值法"><a href="#Lagrange插值法" class="headerlink" title="Lagrange插值法"></a>Lagrange插值法</h2><p>對於$n+1$個數值對$(x_0,y_0),(x_1,y_1),…,(x_n,y_n)$（其中$x_i$互不相同），有且僅有一個次數不超過$n$的多項式$L(x)$對$\forall 0\leqslant i\leqslant n$，$L(x_i)=y_i$，此多項式即為Lagrange插值多項式，其表達式為：</p>
<p>$L(x)=\sum\limits^n_{j=0} {y_jl_j(x)}$</p>
<p>其中$l_j(x)$為Lagrange基本多項式，其表達式為：</p>
<p>$l_j(x)=\prod\limits^n_{i\not =j} {\frac {x-x_i} {x_j-x_i} }\ (0\leqslant j\leqslant n)$</p>
<p>可以注意到，$l_j(x_i)=\begin{cases} 1\ (i=j)\\0\ (i\not=j) \end{cases}\ (0\leqslant i\leqslant n)$。</p>
<h2 id="解密"><a href="#解密" class="headerlink" title="解密"></a>解密</h2><p>設現已有$k$個對象$P_{i_1},P_{i_2},…,P_{i_k}$的數據$(x_{i_1},f(x_{i_1})),(x_{i_2},f(x_{i_2})),…,(x_{i_k},f(x_{i_k}))$。</p>
<p>由於多項式$f(x)$的次數不超過$k-1$，又有對應的$k$個數值對，因此$f(x)$為Lagrange插值多項式。</p>
<p>$f(x)=\sum\limits^k_{j=1} {(f(x_{i_j})\prod\limits^k_{m\not =j} {\frac {x-x_{i_m}} {x_{i_j}-x_{i_m}} )} }$</p>
<p>（注意：Lagrange基本多項式的除法是在$\mathbb Z_p$中的，即等價於乘以除數的逆）</p>
<p>代碼如下（其中的EEA已在<a href="/2020/05/07/Python實現RSA算法中的解密過程">Python實現RSA算法中的解密過程</a>中提及，不再贅述）：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">eea</span><span class="params">(a,b)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> b==<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> a,<span class="number">1</span>,<span class="number">0</span></span><br><span class="line">    r,x,y=eea(b,a%b)</span><br><span class="line">    <span class="comment"># ax+by=r</span></span><br><span class="line">    <span class="comment"># return r,x,y successively</span></span><br><span class="line">    <span class="keyword">return</span> r,y,x-a//b*y</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tsss</span><span class="params">(s_dict,n,k,p)</span>:</span></span><br><span class="line">    <span class="comment"># s_dict is </span></span><br><span class="line">    s=<span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n): </span><br><span class="line">        up=<span class="number">1</span></span><br><span class="line">        down=<span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(n): </span><br><span class="line">            <span class="keyword">if</span> i!=j: </span><br><span class="line">                up*=-s_dict[j][<span class="number">0</span>]</span><br><span class="line">                down*=s_dict[i][<span class="number">0</span>]-s_dict[j][<span class="number">0</span>]</span><br><span class="line">        delta=(up*eea(down,p)[<span class="number">1</span>])%p</span><br><span class="line">        s+=delta*s_dict[i][<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">return</span> s%p</span><br><span class="line"><span class="comment"># There is a testcase below</span></span><br><span class="line">print(tsss([(<span class="number">1</span>,<span class="number">8</span>),(<span class="number">3</span>,<span class="number">10</span>),(<span class="number">5</span>,<span class="number">11</span>)],<span class="number">3</span>,<span class="number">5</span>,<span class="number">17</span>)) <span class="comment"># It prints 13</span></span><br></pre></td></tr></table></figure>
<h2 id="例題"><a href="#例題" class="headerlink" title="例題"></a>例題</h2><p>解密由Shamir的$(5,9)$金鑰分享算法加密的密文$s\in\mathbb Z_{1125899906900597}$。所有子密碼擁有者的數據如下：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>$i$</th>
<th>$s_i$</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>75044643784737</td>
</tr>
<tr>
<td>2</td>
<td>940519894412855</td>
</tr>
<tr>
<td>3</td>
<td>941263003333598</td>
</tr>
<tr>
<td>4</td>
<td>736739711411826</td>
</tr>
<tr>
<td>5</td>
<td>254180887785524</td>
</tr>
<tr>
<td>6</td>
<td>940382343666996</td>
</tr>
<tr>
<td>7</td>
<td>132205297839880</td>
</tr>
<tr>
<td>8</td>
<td>63775631863924</td>
</tr>
<tr>
<td>9</td>
<td>1111084448671404</td>
</tr>
</tbody>
</table>
</div>
<p>使用代碼</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s_dict=[(<span class="number">1</span>,<span class="number">75044643784737</span>),(<span class="number">2</span>,<span class="number">940519894412855</span>),(<span class="number">3</span>,<span class="number">941263003333598</span>),(<span class="number">4</span>,<span class="number">736739711411826</span>),(<span class="number">5</span>,<span class="number">254180887785524</span>),(<span class="number">6</span>,<span class="number">940382343666996</span>),(<span class="number">7</span>,<span class="number">132205297839880</span>),(<span class="number">8</span>,<span class="number">63775631863924</span>),(<span class="number">9</span>,<span class="number">1111084448671404</span>)]</span><br><span class="line">p=<span class="number">1125899906900597</span></span><br><span class="line">print(tsss(s_dict,<span class="number">5</span>,<span class="number">9</span>,p))</span><br></pre></td></tr></table></figure>
<p>可得</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s=<span class="number">330836359559300</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>技術</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>密碼學</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>從畢業到gap</title>
    <url>/2023/06/21/%E5%BE%9E%E7%95%A2%E6%A5%AD%E5%88%B0gap/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css">]]></content>
      <categories>
        <category>技術</category>
      </categories>
      <tags>
        <tag>a</tag>
        <tag>b</tag>
      </tags>
  </entry>
  <entry>
    <title>使用matplotlib繪製循環資料</title>
    <url>/2023/02/17/%E4%BD%BF%E7%94%A8matplotlib%E7%B9%AA%E8%A3%BD%E5%BE%AA%E7%92%B0%E8%B3%87%E6%96%99/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>循環資料（cyclic data）的定義詳見此處：<a href="https://www.oxfordreference.com/display/10.1093/oi/authority.20110803095655796" target="_blank" rel="noopener">Cyclic data - Oxford Reference</a></p>
<h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><p>我在完成一個關於分析片上繞射單元的繞射場的項目時，曾需要將繞射場的光學模擬資料可視化。資料儲存於一個csv文件中，以下是資料的樣例：</p>
<center class="half">
    <img style="border-radius: 0em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="data.png" width = "60%" alt=""/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">
      資料樣例
      </div>
      <br>
</center>

<p>每一列的含義如下：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>x</th>
<th>y</th>
<th>E_real</th>
<th>E_imag</th>
<th>E_arg</th>
</tr>
</thead>
<tbody>
<tr>
<td>點在平面坐標系的x值</td>
<td>點在平面坐標系的y值</td>
<td>實部</td>
<td>虛部</td>
<td>輻角（相位）</td>
</tr>
</tbody>
</table>
</div>
<p>其中$-10^{-5}\leqslant x\leqslant 10^{-6},\ -5\times 10^{-6} \leqslant y\leqslant 5\times 10^{-6}$。</p>
<p>很顯然，資料儲存了光波在繞射場上某一點對應的的複數形式。其中光的相位是一種典型的循環資料，且由以下公式得出：</p>
<script type="math/tex; mode=display">
\text{E_arg}=\arctan\frac{\text{E_real}}{\text{E_imag}}\ (-\pi <\text{E_arg} <\pi)</script><h2 id="使用contourf-函數可能會遇到的問題"><a href="#使用contourf-函數可能會遇到的問題" class="headerlink" title="使用contourf()函數可能會遇到的問題"></a>使用contourf()函數可能會遇到的問題</h2><p>對於此類需求，很容易會想到使用<code>matplotlib.pyplot</code>中的<code>contourf()</code>函數繪製等高線圖。程式碼如下：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> ticker</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">'/dataset/dataset.csv'</span>)</span><br><span class="line">x_unique = np.sort(df[<span class="string">'x'</span>].unique())</span><br><span class="line">y_unique = np.sort(df[<span class="string">'y'</span>].unique())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 將 x 和 y 轉換為網格坐標</span></span><br><span class="line">X, Y = np.meshgrid(x_unique, y_unique)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 將 E_arg 轉換為網格形式</span></span><br><span class="line">Z = np.zeros_like(X)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(x_unique)):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(len(y_unique)):</span><br><span class="line">        Z[j, i] = df[(df[<span class="string">'x'</span>] == x_unique[i]) &amp; (df[<span class="string">'y'</span>] == y_unique[j])][<span class="string">'E_arg'</span>].values[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 繪製等高線圖</span></span><br><span class="line">fig, ax = plt.subplots()</span><br><span class="line">levels = np.linspace(-np.pi, np.pi, <span class="number">129</span>)</span><br><span class="line">cs = ax.contourf(X, Y, Z, levels, cmap=plt.get_cmap(<span class="string">'twilight'</span>))</span><br><span class="line">ax.set_title(<span class="string">'E_arg'</span>)</span><br><span class="line">ax.set_xlabel(<span class="string">'x'</span>)</span><br><span class="line">ax.set_ylabel(<span class="string">'y'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 設置顏色條</span></span><br><span class="line">cbar = fig.colorbar(cs,fraction=<span class="number">0.1</span>, pad=<span class="number">0.15</span>, shrink=<span class="number">0.9</span>, anchor=(<span class="number">0.0</span>, <span class="number">0.3</span>))</span><br><span class="line">tick_locator = ticker.MaxNLocator(nbins=<span class="number">6</span>)  <span class="comment"># colorbar上的刻度值個數</span></span><br><span class="line">cbar.locator = tick_locator</span><br><span class="line">cbar.ax.tick_params()</span><br><span class="line">cbar.update_ticks()</span><br><span class="line"></span><br><span class="line"><span class="comment"># x軸設置</span></span><br><span class="line">x_min = <span class="number">-1e-5</span></span><br><span class="line">x_max = <span class="number">1e-6</span></span><br><span class="line">x_step = <span class="number">2e-6</span></span><br><span class="line">x_ticks = np.arange(x_min, x_max, x_step)</span><br><span class="line"></span><br><span class="line"><span class="comment"># y軸設置</span></span><br><span class="line">y_min = <span class="number">-5e-6</span></span><br><span class="line">y_max = <span class="number">5e-6</span></span><br><span class="line">y_step = <span class="number">2e-6</span></span><br><span class="line">y_ticks = np.arange(y_min, y_max, y_step)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 設置x軸和y軸的範圍和刻度</span></span><br><span class="line">plt.xlim(x_min, x_max)</span><br><span class="line">plt.xticks(x_ticks)</span><br><span class="line">plt.ylim(y_min, y_max)</span><br><span class="line">plt.yticks(y_ticks)</span><br><span class="line"></span><br><span class="line"><span class="comment">#設置圖像像素及大小</span></span><br><span class="line">plt.rcParams[<span class="string">'figure.figsize'</span>]=(<span class="number">6.0</span>, <span class="number">4.0</span>)</span><br><span class="line">plt.rcParams[<span class="string">'savefig.dpi'</span>] = <span class="number">600</span> <span class="comment">#圖片像素</span></span><br><span class="line">plt.rcParams[<span class="string">'figure.dpi'</span>] = <span class="number">600</span> <span class="comment">#解析度</span></span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>因為資料是循環資料，因此我選擇了<a href="https://matplotlib.org/stable/gallery/color/colormap_reference.html" target="_blank" rel="noopener">cyclic colormaps</a>中的twilight樣式作為圖像的colormap。得到的圖像如下：</p>
<center class="half">
    <img style="border-radius: 0em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="Figure_1.png" width = "100%" alt=""/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">
      E_arg的等高線圖
      </div>
      <br>
</center>

<p>仔細觀察會發現，在相位小於且接近$\pi$和相位大於且接近$-\pi$的點之間，出現的並不是平滑的顏色過渡，而是形成了一條包含所有顏色的極細的色帶。這與循環資料的特性不符，因為光波的相位週期為$2\pi$，$\pi$和$-\pi$應是等同的。</p>
<p>這個錯誤很可能是因為contourf()的插值方法沒有認識到$\pi$和$-\pi$的等價性，而在兩點之間進行了錯誤的插值，這在放大後的圖像中能夠清晰地觀察到：</p>
<center class="half">
    <img style="border-radius: 0em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="Figure_2.png" width = "100%" alt=""/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">
      E_arg的等高線圖中$\pi$與$-\pi$的交界處
      </div>
      <br>
</center>

<h2 id="解決方法"><a href="#解決方法" class="headerlink" title="解決方法"></a>解決方法</h2><h3 id="1-使用scatter-函數"><a href="#1-使用scatter-函數" class="headerlink" title="1. 使用scatter()函數"></a>1. 使用scatter()函數</h3><p>要解決上述問題，一個可行的替代方案是改為使用<code>matplotlib.pyplot</code>中的<code>scatter()</code>函數繪製散點圖。這裡需要注意的是，由於我們的需求仍然是類似等高線圖那樣用不同顏色填充滿整個區域的圖像，因此繪製散點圖的第一個前提是原始資料足夠大（在本文所舉的例子中，資料集有數十萬行），以達到能將散點圖在實際輸出中趨同於等高線圖的效果。這種方法的程式碼如下：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> ticker</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">'/dataset/dataset.csv'</span>)</span><br><span class="line">x_unique = np.sort(df[<span class="string">'x'</span>].unique())</span><br><span class="line">y_unique = np.sort(df[<span class="string">'y'</span>].unique())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 提取 x ， y 和 E_arg 的值</span></span><br><span class="line">x = df[<span class="string">'x'</span>].values</span><br><span class="line">y = df[<span class="string">'y'</span>].values</span><br><span class="line">E_arg = df[<span class="string">'E_arg'</span>].values</span><br><span class="line"></span><br><span class="line"><span class="comment"># 繪製等高線圖</span></span><br><span class="line">fig, ax = plt.subplots()</span><br><span class="line">scatter = ax.scatter(x, y, c=E_arg, cmap=<span class="string">'twilight'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 設置顏色條</span></span><br><span class="line">cbar = fig.colorbar(cs,fraction=<span class="number">0.1</span>, pad=<span class="number">0.15</span>, shrink=<span class="number">0.9</span>, anchor=(<span class="number">0.0</span>, <span class="number">0.3</span>))</span><br><span class="line">tick_locator = ticker.MaxNLocator(nbins=<span class="number">6</span>)  <span class="comment"># colorbar上的刻度值個數</span></span><br><span class="line">cbar.locator = tick_locator</span><br><span class="line">cbar.ax.tick_params()</span><br><span class="line">cbar.update_ticks()</span><br><span class="line"></span><br><span class="line"><span class="comment"># x軸設置</span></span><br><span class="line">x_min = <span class="number">-1e-5</span></span><br><span class="line">x_max = <span class="number">1e-6</span></span><br><span class="line">x_step = <span class="number">2e-6</span></span><br><span class="line">x_ticks = np.arange(x_min, x_max, x_step)</span><br><span class="line"></span><br><span class="line"><span class="comment"># y軸設置</span></span><br><span class="line">y_min = <span class="number">-5e-6</span></span><br><span class="line">y_max = <span class="number">5e-6</span></span><br><span class="line">y_step = <span class="number">2e-6</span></span><br><span class="line">y_ticks = np.arange(y_min, y_max, y_step)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 設置x軸和y軸的範圍和刻度</span></span><br><span class="line">plt.xlim(x_min, x_max)</span><br><span class="line">plt.xticks(x_ticks)</span><br><span class="line">plt.ylim(y_min, y_max)</span><br><span class="line">plt.yticks(y_ticks)</span><br><span class="line"></span><br><span class="line"><span class="comment">#設置圖像像素及大小</span></span><br><span class="line">plt.rcParams[<span class="string">'figure.figsize'</span>]=(<span class="number">6.0</span>, <span class="number">4.0</span>)</span><br><span class="line">plt.rcParams[<span class="string">'savefig.dpi'</span>] = <span class="number">600</span> <span class="comment">#圖片像素</span></span><br><span class="line">plt.rcParams[<span class="string">'figure.dpi'</span>] = <span class="number">600</span> <span class="comment">#解析度</span></span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>這種方法得到的圖像如下：</p>
<center class="half">
    <img style="border-radius: 0em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="Figure_3.png" width = "100%" alt=""/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">
      E_arg的散點圖
      </div>
      <br>
</center>

<p>可以看到，錯誤的色帶確實消失了。這是因為色帶上的資料是插值得到的，並非來源於原始資料，而散點圖只會繪製所有的原始資料，並不會做插值計算。</p>
<p>然而，這種方法也存在一些問題。除去上文中已經提到的原始資料需要足夠大這一要求之外，原始資料也需要足夠規律。仔細觀察得到的散點圖，會發現有些區域有錯位的情況。將圖像中錯位的區域放大觀察，能夠明顯看到不規律的資料，而錯位也是由不規律的資料所造成的視覺效果：</p>
<center class="half">
    <img style="border-radius: 0em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="Figure_4.png" width = "100%" alt=""/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">
      E_arg的散點圖中錯位的區域
      </div>
      <br>
</center>

<p>實際上，本例中的原始資料相對來說已經足夠規律了。如果是更為散亂的資料，可能會得到更差的結果。</p>
<h3 id="2-使用三角函數映射"><a href="#2-使用三角函數映射" class="headerlink" title="2. 使用三角函數映射"></a>2. 使用三角函數映射</h3><p>如果仍要堅持使用contourf()函數繪製等高線圖，也可以考慮對相位使用三角函數映射。以$\sin x$為例，$\sin\pi=\sin(-\pi)=0$，這樣一來，相位小於且接近$\pi$和相位大於且接近$-\pi$的點之間就是連續的平穩過渡了。程式碼如下（其實只是在第17行加上了<code>np.sin()</code>）：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> ticker</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">'/dataset/dataset.csv'</span>)</span><br><span class="line">x_unique = np.sort(df[<span class="string">'x'</span>].unique())</span><br><span class="line">y_unique = np.sort(df[<span class="string">'y'</span>].unique())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 將 x 和 y 轉換為網格坐標</span></span><br><span class="line">X, Y = np.meshgrid(x_unique, y_unique)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 將 E_arg 轉換為網格形式</span></span><br><span class="line">Z = np.zeros_like(X)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(x_unique)):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(len(y_unique)):</span><br><span class="line">        Z[j, i] = np.sin(df[(df[<span class="string">'x'</span>] == x_unique[i]) &amp; (df[<span class="string">'y'</span>] == y_unique[j])][<span class="string">'E_arg'</span>].values[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 繪製等高線圖</span></span><br><span class="line">fig, ax = plt.subplots()</span><br><span class="line">levels = np.linspace(-np.pi, np.pi, <span class="number">129</span>)</span><br><span class="line">cs = ax.contourf(X, Y, Z, levels, cmap=plt.get_cmap(<span class="string">'twilight'</span>))</span><br><span class="line">ax.set_title(<span class="string">'E_arg'</span>)</span><br><span class="line">ax.set_xlabel(<span class="string">'x'</span>)</span><br><span class="line">ax.set_ylabel(<span class="string">'y'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 設置顏色條</span></span><br><span class="line">cbar = fig.colorbar(cs,fraction=<span class="number">0.1</span>, pad=<span class="number">0.15</span>, shrink=<span class="number">0.9</span>, anchor=(<span class="number">0.0</span>, <span class="number">0.3</span>))</span><br><span class="line">tick_locator = ticker.MaxNLocator(nbins=<span class="number">6</span>)  <span class="comment"># colorbar上的刻度值個數</span></span><br><span class="line">cbar.locator = tick_locator</span><br><span class="line">cbar.ax.tick_params()</span><br><span class="line">cbar.update_ticks()</span><br><span class="line"></span><br><span class="line"><span class="comment"># x軸設置</span></span><br><span class="line">x_min = <span class="number">-1e-5</span></span><br><span class="line">x_max = <span class="number">1e-6</span></span><br><span class="line">x_step = <span class="number">2e-6</span></span><br><span class="line">x_ticks = np.arange(x_min, x_max, x_step)</span><br><span class="line"></span><br><span class="line"><span class="comment"># y軸設置</span></span><br><span class="line">y_min = <span class="number">-5e-6</span></span><br><span class="line">y_max = <span class="number">5e-6</span></span><br><span class="line">y_step = <span class="number">2e-6</span></span><br><span class="line">y_ticks = np.arange(y_min, y_max, y_step)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 設置x軸和y軸的範圍和刻度</span></span><br><span class="line">plt.xlim(x_min, x_max)</span><br><span class="line">plt.xticks(x_ticks)</span><br><span class="line">plt.ylim(y_min, y_max)</span><br><span class="line">plt.yticks(y_ticks)</span><br><span class="line"></span><br><span class="line"><span class="comment">#設置圖像像素及大小</span></span><br><span class="line">plt.rcParams[<span class="string">'figure.figsize'</span>]=(<span class="number">6.0</span>, <span class="number">4.0</span>)</span><br><span class="line">plt.rcParams[<span class="string">'savefig.dpi'</span>] = <span class="number">600</span> <span class="comment">#圖片像素</span></span><br><span class="line">plt.rcParams[<span class="string">'figure.dpi'</span>] = <span class="number">600</span> <span class="comment">#解析度</span></span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>但是，這種辦法有一個嚴重的問題：它勢必會將兩個不相等的相位映射到同一個值上。這時，此種替代方法的可行性就主要取決於本身的需求是否允許了。在本文的例子中，它最終生成了如下圖像：</p>
<p><center class="half">
    <img style="border-radius: 0em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="Figure_5.png" width = "100%" alt=""/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">
      sin(E_arg)的等高線圖
      </div>
      <br>
</center></p>
<h3 id="3-其他的可能方案"><a href="#3-其他的可能方案" class="headerlink" title="3. 其他的可能方案"></a>3. 其他的可能方案</h3><p>問題的核心在於使相位$\pi$和相位$-\pi$連續，因此或許可以先使用<code>numpy</code>中的<code>unwrap()</code>函數預處理資料使之連續，再使用<code>contourf()</code>函數繪製等高線圖。但是這種方法會使資料不再僅限於$(-\pi,\ \pi)$區間，此時可能需要自訂colormap，將若干段長度為2的twilight拼接，以得到能夠包含所有新資料的colormap。另外，由於<code>unwrap()</code>函數只能用於一維數組，而資料的坐標是二維的，因此如何使用<code>unwrap()</code>函數也是一個難點。</p>
<p>最後，在StackOverflow上也有一個類似的問題可供參考：<a href="https://stackoverflow.com/questions/28884344/handling-cyclic-data-with-matplotlib-contour-contourf" target="_blank" rel="noopener">python - Handling cyclic data with matplotlib contour/contourf - Stack Overflow</a>。</p>
]]></content>
      <categories>
        <category>技術</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>matplotlib</tag>
      </tags>
  </entry>
  <entry>
    <title>從電視劇《高堡奇人》中的一處錯誤瞭解日本的從軍記章</title>
    <url>/2022/12/07/%E5%BE%9E%E9%9B%BB%E8%A6%96%E5%8A%87%E3%80%8A%E9%AB%98%E5%A0%A1%E5%A5%87%E4%BA%BA%E3%80%8B%E4%B8%AD%E7%9A%84%E4%B8%80%E8%99%95%E9%8C%AF%E8%AA%A4%E7%9E%AD%E8%A7%A3%E6%97%A5%E6%9C%AC%E7%9A%84%E5%BE%9E%E8%BB%8D%E8%A8%98%E7%AB%A0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><p>《高堡奇人》是一部架空歷史間諜題材的美國電視連續劇，講述了一段軸心國在二戰中勝利的架空歷史，改編自美國科幻小說作家菲利普·K·迪克於1962年出版的同名小說，此小說曾於1963年獲得雨果獎最佳長篇小說獎並因此聞名於世。</p>
<center class="half">
    <img style="border-radius: 0em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="0.jpg" width = "35%" alt=""/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">
      小說第一版封面
      </div>
      <br>
</center>


<p>由於整個劇集只有前面一小部分的劇情來自於原作，因此靠後的內容均由編劇自由發揮，其中不乏歷史常識性的錯誤。可能是因為編劇對於日本歷史的不甚瞭解，這種情況在劇集中出現的日本元素上十分常見。例如劇中就有出現過IJA將IJN的艦隊總司令置於軍事法庭審判並試圖將其處決的奇景。</p>
<center class="half">
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="1.jpg" width = "80%" alt=""/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 0px;">
      出自S04E06
      </div>
      <br>
</center>


<p>不過本文所要提及的，是一個可能不太會被注意到的，關於記章的小錯誤。在劇中曾出現過一個名為「支那事変従軍記章」的記章箱，但裡面卻裝著「昭和六年乃至九年事変従軍記章」。下文將對日本的從軍記章作一個簡要的介紹。</p>
<div class="group-picture"><div class="group-picture-container"><div class="group-picture-row"><div class="group-picture-column"  style="width: 100%;"><img style="border-radius: 0.3125em; box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" src="2.jpg" width = "60%" alt="1"></div></div><div class="group-picture-row"><div class="group-picture-column"  style="width: 100%;"><img style="border-radius: 0.3125em; box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" src="3.jpg" width = "60%" alt="1"/></div></div></div></div>
<center class="half">
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9; display: inline-block; color: #999; padding: 0px;">出自S02E06
    </div>
      <br>
</center>

<h2 id="從軍記章的由來"><a href="#從軍記章的由來" class="headerlink" title="從軍記章的由來"></a>從軍記章的由來</h2><p>明治8年（1875），日本政府頒佈了名為《賞牌従軍牌制定ノ件》的法令<sup id="fnref:1"><a href="#fn:1" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="準確來說，《賞牌従軍牌制定ノ件》是具有法令形式的太政官布告（《明治8年太政官布告第54号》）。太政官是明治初期的最高行政機關，於明治18年（1885）隨內閣制度的建立而廢止。
">[1]</span></a></sup>，制定了「賞牌（賞牌）」和「從軍牌（従軍牌）」兩種佩章。翌年，又將「賞牌」改稱為「勳章（勲章）」、「從軍牌」改稱為「從軍記章（従軍記章）」。<sup id="fnref:2"><a href="#fn:2" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="這一改動來源於《明治9年太政官布告第141号》，《賞牌従軍牌制定ノ件》亦因此更名為《勲章従軍記章制定ノ件》。
">[2]</span></a></sup>與勳章和褒章等佩章不同的是，從軍記章的授與對象非常廣泛。一般而言，無論軍中地位和軍功有無，只要是參戰的士兵就能被授與相關戰爭（或事變）的從軍記章。<sup id="fnref:3"><a href="#fn:3" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="「従軍牌ハ将卒ノ別ナク軍功ノ有無ヲ論セス凱旋ノ後従軍ノ徴ニ之ヲ賜フ」－《賞牌従軍牌制定ノ件》
">[3]</span></a></sup>正因如此，從軍記章的發行數普遍很多，其中「支那事変従軍記章」作為發行數最多的從軍記章合計約授與了340萬人。</p>
<center class="half">
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="従軍牌.jfif" width = "40%" alt=""/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 0px;">
      従軍牌－《賞牌從軍牌ヲ定ム》，《法令全書．明治8年》
      </div>
      <br>
</center>



<h2 id="從軍記章一覽"><a href="#從軍記章一覽" class="headerlink" title="從軍記章一覽"></a>從軍記章一覽</h2><p>在大日本帝國短暫的歷史上，一共出現過9種從軍記章，幾乎涵蓋了帝國參與的所有大小戰爭。下文對所有從軍記章進行了詳細的列舉<sup id="fnref:4"><a href="#fn:4" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="下文中出現的寸、分，均指日本尺貫法中的日寸、日分（$1$日分$=\frac{1}{10}$日寸$=\frac{1}{330}$公尺），其與台灣台制中的台寸、台分是等同的（$1$台分$=\frac{1}{10}$台寸$=\frac{1}{330}$公尺），但與中國市制中的市尺、市分不同（$1$市分$=\frac{1}{10}$市寸$=\frac{1}{300}$公尺）。
">[4]</span></a></sup>：</p>
<h3 id="「明治七年従軍記章」"><a href="#「明治七年従軍記章」" class="headerlink" title="「明治七年従軍記章」"></a>「明治七年従軍記章」</h3><p>形式與上文「従軍牌」一圖相同，僅所刻文字不同。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>制定年份</th>
<th>明治8年（1875）</th>
</tr>
</thead>
<tbody>
<tr>
<td>相關事件</td>
<td>牡丹社事件（日稱「台湾出兵」）</td>
</tr>
<tr>
<td>正面</td>
<td>文字「従軍記章」、桐樹枝</td>
</tr>
<tr>
<td>背面</td>
<td>文字「明治七年歳次甲戌」</td>
</tr>
<tr>
<td>金屬材料</td>
<td>銀</td>
</tr>
<tr>
<td>形狀大小</td>
<td>圓形，直徑8分</td>
</tr>
<tr>
<td>飾版文字</td>
<td>「台湾」</td>
</tr>
<tr>
<td>綬帶配色（中間至邊緣）</td>
<td>白・綠</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>1383年，尚未統一的琉球即已開始明朝進貢，成為明朝的藩屬國。1429年，統一的琉球國成立。1609年，日本薩摩藩入侵琉球國（即「慶長琉球之役」），琉球實質上成為薩摩藩的附庸國，並開始向薩摩藩和江戶幕府朝貢。此後，琉球國長期處於清日兩屬狀態。1871年，明治政府推行廢藩置縣新政，琉球國作為令制國被編入鹿兒島縣，自此日本開始廢除並吞併琉球國。同年，琉球船隊因颱風被迫登陸清屬台灣，後被排灣族原住民視為入侵者而處決，史稱「八瑤灣事件」。大日本帝國藉此機會出兵台灣，是為牡丹社事件。此次出兵用意複雜，但確實在客觀上加速了吞併琉球的進程。牡丹社事件亦是日本自明治維新以來首次對外用兵。</li>
<li>「明治七年従軍記章」是帝國政府制定的第一種從軍記章，也是唯一一種使用貴金屬（銀）作為金屬材料的從軍記章。</li>
</ul>
<h3 id="「明治二十七八年従軍記章」"><a href="#「明治二十七八年従軍記章」" class="headerlink" title="「明治二十七八年従軍記章」"></a>「明治二十七八年従軍記章」</h3><center class="half">
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="明治二十七八年従軍記章.jpg" width = "40%" alt=""/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 0px;">
      《明治二十七八年従軍記章条例》，《官報．1895年10月09日》
      </div>
      <br>
</center>


<div class="table-container">
<table>
<thead>
<tr>
<th>制定年份</th>
<th>明治28年（1895）</th>
</tr>
</thead>
<tbody>
<tr>
<td>相關事件</td>
<td>第一次中日戰爭（日稱「日清戦争」）</td>
</tr>
<tr>
<td>正面</td>
<td>交叉的陸軍連隊旗與海軍軍艦旗、菊紋</td>
</tr>
<tr>
<td>背面</td>
<td>文字「明治二十七八年従軍記章」</td>
</tr>
<tr>
<td>金屬材料</td>
<td>銅</td>
</tr>
<tr>
<td>形狀大小</td>
<td>寶珠形，縱1寸1分、橫1寸</td>
</tr>
<tr>
<td>飾版文字</td>
<td>無</td>
</tr>
<tr>
<td>綬帶配色（中間至邊緣）</td>
<td>白・綠</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>為紀念第一次中日戰爭，此從軍記章所使用的金屬銅來自日軍在戰爭中所擄獲的清軍大砲。<sup id="fnref:5"><a href="#fn:5" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="「従軍記章ハ敵軍ヨリ奪獲シタル大砲ノ地金ヲ以テ製造スル」－《明治二十七八年従軍記章条例》
">[5]</span></a></sup></li>
<li>「明治二十七八年従軍記章」是唯一一種形狀為寶珠形而非普通圓形的從軍記章。此處的寶珠指佛教中的如意寶珠，下部呈球形，上部呈彎曲的尖角，應與西方的寶珠（即十字聖球）區分開。</li>
<li>這也是陸軍旗與海軍旗第一次出現於從軍記章。陸軍旗和海軍旗分別於明治3年（1870）和明治22年（1889）制定。</li>
</ul>
<center class="half">
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="陸軍旗.svg" width = "40%" alt=""/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 0px;">
      大日本帝国陸軍旗
      </div>
      <br>
</center>

<center class="half">
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="海軍旗.svg" width = "40%" alt=""/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 0px;">
      大日本帝国海軍旗
      </div>
      <br>
</center>

<h3 id="「明治三十三年従軍記章」"><a href="#「明治三十三年従軍記章」" class="headerlink" title="「明治三十三年従軍記章」"></a>「明治三十三年従軍記章」</h3><center class="half">
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="明治三十三年従軍記章.jfif" width = "25%" alt=""/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 0px;">
      《明治三十三年従軍記章条例》，《官報．1902年04月21日》
      </div>
      <br>
</center>


<div class="table-container">
<table>
<thead>
<tr>
<th>制定年份</th>
<th>明治35年（1902）</th>
</tr>
</thead>
<tbody>
<tr>
<td>相關事件</td>
<td>庚子事變（日稱「北清事変」）</td>
</tr>
<tr>
<td>正面</td>
<td>文字「従軍記章」、鳳凰、菊紋</td>
</tr>
<tr>
<td>背面</td>
<td>文字「大日本帝国明治三十三年」</td>
</tr>
<tr>
<td>金屬材料</td>
<td>銅</td>
</tr>
<tr>
<td>形狀大小</td>
<td>圓形，直徑1寸</td>
</tr>
<tr>
<td>飾版文字</td>
<td>「清国事変」</td>
</tr>
<tr>
<td>綬帶配色（中間至邊緣）</td>
<td>白・綠・白・綠</td>
</tr>
</tbody>
</table>
</div>
<h3 id="「明治三十七八年従軍記章」"><a href="#「明治三十七八年従軍記章」" class="headerlink" title="「明治三十七八年従軍記章」"></a>「明治三十七八年従軍記章」</h3><center class="half">
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="明治三十七八年従軍記章.jfif" width = "40%" alt=""/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 0px;">
      《明治三十七八年従軍記章条例》，《官報．1906年03月31日》
      </div>
      <br>
</center>


<div class="table-container">
<table>
<thead>
<tr>
<th>制定年份</th>
<th>明治39年（1906）</th>
</tr>
</thead>
<tbody>
<tr>
<td>相關事件</td>
<td>日俄戰爭（日稱「日露戦争」）</td>
</tr>
<tr>
<td>正面</td>
<td>交叉的陸軍連隊旗與海軍軍艦旗、菊紋、五七桐紋</td>
</tr>
<tr>
<td>背面</td>
<td>文字「明治三十七八年戦役」、交叉的月桂枝和椰棗葉</td>
</tr>
<tr>
<td>金屬材料</td>
<td>銅</td>
</tr>
<tr>
<td>形狀大小</td>
<td>圓形，直徑1寸</td>
</tr>
<tr>
<td>飾版文字</td>
<td>「従軍記章」</td>
</tr>
<tr>
<td>綬帶配色（中間至邊緣）</td>
<td>紺青・綠・白</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>桐紋是日本的傳統紋章，也是現今日本國政府所使用的紋章，基本設計包括三個直立的花序和三個葉子。五七桐紋指花序中的花數為5-7-5（從左至右），另有五三桐紋（花數為3-5-3）等多種樣式。</li>
</ul>
<center class="half">
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="日本國政府桐紋.svg" width = "40%" alt=""/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 0px;">
      日本國政府桐紋（五七桐）
      </div>
      <br>
</center>

<center class="half">
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="筑波大學校徽.svg" width = "40%" alt=""/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 0px;">
      筑波大學校徽（五三桐）
      </div>
      <br>
</center>

<h3 id="「大正三四年（大正三年乃至九年戦役）従軍記章」"><a href="#「大正三四年（大正三年乃至九年戦役）従軍記章」" class="headerlink" title="「大正三四年（大正三年乃至九年戦役）従軍記章」"></a>「大正三四年（大正三年乃至九年戦役）従軍記章」</h3><center class="half">
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="大正三四年従軍記章.jfif" width = "27%" alt=""/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 0px;">
      《大正三四年従軍記章令》，《官報．1915年11月06日》
      </div>
      <br>
</center>

<center class="half">
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="大正三年乃至九年戦役従軍記章.jfif" width = "40%" alt=""/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 0px;">
      《大正三四年記章令中改正》，《官報．1920年03月11日》
      </div>
      <br>
</center>


<div class="table-container">
<table>
<thead>
<tr>
<th>制定年份</th>
<th>大正4年（1915）／大正9年（1920）</th>
</tr>
</thead>
<tbody>
<tr>
<td>相關事件</td>
<td>第一次世界大戰（日稱「青島の戦い」）／西伯利亞干涉戰爭（日稱「シベリア出兵」）</td>
</tr>
<tr>
<td>正面</td>
<td>交叉的陸軍連隊旗與海軍軍艦旗、菊紋、交叉的桐樹枝</td>
</tr>
<tr>
<td>背面</td>
<td>文字「大正三四年戦役」（文字「大正三年乃至九年戦役」）</td>
</tr>
<tr>
<td>金屬材料</td>
<td>銅</td>
</tr>
<tr>
<td>形狀大小</td>
<td>圓形，直徑1寸</td>
</tr>
<tr>
<td>飾版文字</td>
<td>「従軍記章」</td>
</tr>
<tr>
<td>綬帶配色（中間至邊緣）</td>
<td>白・紺青</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>「大正三四年従軍記章」制定於青島戰役（1914）結束翌年，青島戰役是一戰遠東戰區中唯一一場戰役，也是日本在一戰中唯一參戰的戰役。</li>
<li>1917年十月革命後，俄國進入內戰時期，次年3月蘇維埃俄國即與同盟國議和，退出一戰。協約國因反對新成立的蘇俄政府而選擇支援白軍，武裝干涉蘇俄革命。1920年，隨著白軍在內戰中節節敗退，協約國從西伯利亞陸續撤軍，蘇俄收復遠東。</li>
<li>同盟國干涉西伯利亞雖為俄國內戰的一部分，但也與一戰有很深的聯繫，且日本在兩次戰爭中均屬同盟國陣營。因此，日本選擇將兩次戰役合稱為「大正三年乃至九年戦役」並一併紀念。</li>
</ul>
<h3 id="「昭和六年乃至九年事変従軍記章」"><a href="#「昭和六年乃至九年事変従軍記章」" class="headerlink" title="「昭和六年乃至九年事変従軍記章」"></a>「昭和六年乃至九年事変従軍記章」</h3><center class="half">
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="昭和六年乃至九年事変従軍記章.jfif" width = "40%" alt=""/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 0px;">
      《昭和六年乃至九年事変従軍記章令》，《官報．1934年07月23日》
      </div>
      <br>
</center>


<div class="table-container">
<table>
<thead>
<tr>
<th>制定年份</th>
<th>昭和9年（1934）</th>
</tr>
</thead>
<tbody>
<tr>
<td>相關事件</td>
<td>九一八事變（日稱「満州事変」）及一二八事變（日稱「第一次上海事変」）</td>
</tr>
<tr>
<td>正面</td>
<td>金鵄、菊紋</td>
</tr>
<tr>
<td>背面</td>
<td>櫻花、陸海軍的鋼盔、文字「昭和六年乃至九年事変」</td>
</tr>
<tr>
<td>金屬材料</td>
<td>青銅</td>
</tr>
<tr>
<td>形狀大小</td>
<td>圓形，直徑3公釐</td>
</tr>
<tr>
<td>飾版文字</td>
<td>「従軍記章」</td>
</tr>
<tr>
<td>綬帶配色（中間至邊緣）</td>
<td>濃紅・黄・浅紅・緋褪・紅海老茶</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>「昭和六年乃至九年事変従軍記章」是昭和時代的第一種從軍記章，自此，從軍記章中民族主義和軍國主義的元素開始逐漸增加。典型的例子是其正面的金鵄和下一從軍記章「支那事変従軍記章」正面的八咫烏，兩者均是神武天皇東征中出現的神鳥，常被認為含「聖戰」之意。另外，作為大和魂的象徵，櫻花也開始出現於從軍記章的設計之中。</li>
<li>背面的鋼盔是日本在昭和5年（1930）前後研發的九〇式鋼盔，在之後廣泛運用於第二次世界大戰。其中「九〇」指皇紀2590年（即西曆1930年）。</li>
<li>因與九一八事變相關，在此種從軍記章的綬帶配色中唯一一次出現了黃色，以象徵新建立的滿洲國（1932-1945）。<sup id="fnref:6"><a href="#fn:6" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="「黄色は満洲国の生れ出たことを表はして居る」－《造幣局七十年史》，第74頁，大蔵省造幣局編。
">[6]</span></a></sup></li>
</ul>
<center class="half">
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="滿洲國國旗.svg" width = "40%" alt=""/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 0px;">
      滿洲國國旗
      </div>
      <br>
</center>

<ul>
<li>值得一提的是，從這種從軍記章開始，制定法令中關於大小（長度）的規定使用了公制單位。<sup id="fnref:7"><a href="#fn:7" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="日本在明治24年（1891）將公制引入其度量衡制度，與尺貫法並用。大正10年（1921），日本官方廢除了尺貫法。但由於其在社會中的泛用程度，尺貫法一直沿用至昭和26年（1951）《計量法》頒佈。
">[7]</span></a></sup></li>
</ul>
<h3 id="「支那事変従軍記章」"><a href="#「支那事変従軍記章」" class="headerlink" title="「支那事変従軍記章」"></a>「支那事変従軍記章」</h3><center class="half">
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="支那事変従軍記章.jfif" width = "40%" alt=""/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 0px;">
      《支那事変従軍記章令》，《官報．1939年07月27日》
      </div>
      <br>
</center>


<div class="table-container">
<table>
<thead>
<tr>
<th>制定年份</th>
<th>昭和15年（1940）</th>
</tr>
</thead>
<tbody>
<tr>
<td>相關事件</td>
<td>第二次中日戰爭（日稱「支那事変」）</td>
</tr>
<tr>
<td>正面</td>
<td>交叉的陸軍連隊旗與海軍軍艦旗、八咫烏、瑞雲、菊紋</td>
</tr>
<tr>
<td>背面</td>
<td>山巒、波浪、雲霧、文字「支那事変」</td>
</tr>
<tr>
<td>金屬材料</td>
<td>青銅</td>
</tr>
<tr>
<td>形狀大小</td>
<td>圓形，直徑3公釐</td>
</tr>
<tr>
<td>飾版文字</td>
<td>「従軍記章」</td>
</tr>
<tr>
<td>綬帶配色（中間至邊緣）</td>
<td>紅・香・納戶・濃桔梗</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><p>「支那事変従軍記章」是日本發行數最多的從軍記章，至戰爭結束共計授與約340萬人。<sup id="fnref:8"><a href="#fn:8" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="數據出自《大東亜戦争従軍記章令廃止等ノ件》。
">[8]</span></a></sup></p>
</li>
<li><p>背面的山巒、波浪、雲霧出自日本軍歌「海行かば」（下附歌詞），以表為天皇殉國之精神，亦象徵日本海陸空三軍。</p>
<blockquote>
<p>海行かば（海行兮）</p>
<p>海行かば　水漬く屍（海行兮　願為水中浮屍）<br>山行かば　草生す屍（山行兮　願為草下腐屍）<br>大君の　辺にこそ死なめ（大君身邊死）<br>かへり見は　せじ（義無反顧）</p>
</blockquote>
</li>
</ul>
<h3 id="「大東亜戦争従軍記章」"><a href="#「大東亜戦争従軍記章」" class="headerlink" title="「大東亜戦争従軍記章」"></a>「大東亜戦争従軍記章」</h3><center class="half">
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="大東亜戦争従軍記章.jfif" width = "40%" alt=""/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 0px;">
      《大東亜戦争従軍記章令》，《官報．1944年06月21日》
      </div>
      <br>
</center>


<div class="table-container">
<table>
<thead>
<tr>
<th>制定年份</th>
<th>昭和19年（1944）</th>
</tr>
</thead>
<tbody>
<tr>
<td>相關事件</td>
<td>第二次世界大戰（日稱「大東亜戦争」）</td>
</tr>
<tr>
<td>正面</td>
<td>菊紋及周圍四射的光線、一對大刀、櫻花</td>
</tr>
<tr>
<td>背面</td>
<td>文字「大東亜戦争」</td>
</tr>
<tr>
<td>金屬材料</td>
<td>錫</td>
</tr>
<tr>
<td>形狀大小</td>
<td>圓形，直徑3公釐</td>
</tr>
<tr>
<td>飾版文字</td>
<td>「従軍記章」</td>
</tr>
<tr>
<td>綬帶配色（中間至邊緣）</td>
<td>鶸・萌黄・納戶・濃桔梗</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>昭和16年（1941）12月，日本先後發動珍珠港事件（對美）和馬來亞戰役（對英），由此開闢第二次世界大戰太平洋戰線。同月，內閣會議決定將「支那事変」和「対米英戦争」合稱為「大東亜戦争」。<sup id="fnref:9"><a href="#fn:9" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="「今次ノ対米英戦争及今後情勢ノ推移ニ伴ヒ生起スルコトアルヘキ戦争ハ支那事変ヲモ含メ大東亜戦争ト呼称ス」－《今次戦争ノ呼称並ニ平戦時ノ分界時期等ニ付テ》，出自昭和16年12月12日內閣議會。
">[9]</span></a></sup>受此影響，政府於昭和19年（1944）制定了相應的「大東亜戦争従軍記章」以代替「支那事変従軍記章」。</li>
<li>1944年，日軍在太平洋戰場上已呈頹勢，戰局逐漸惡化。政府決定使用東南亞盛產的錫作為金屬材料，以代替可用於軍工的銅。另外，其背面也僅保留了中間的刻字，省略了其他圖案。儘管如此，「大東亜戦争従軍記章」的實際製造仍然被推遲，至戰敗時僅生產了約1萬枚，且並未授與任何參戰士兵。戰後，盟軍進駐日本，下令銷毀所有已生產的從軍記章，「大東亜戦争従軍記章」也從此消逝於世間。</li>
</ul>
<h2 id="從軍記章的終結"><a href="#從軍記章的終結" class="headerlink" title="從軍記章的終結"></a>從軍記章的終結</h2><p>第二次世界大戰結束後，盟軍軍事佔領日本，建立盟軍最高司令官總司令部（即「GHQ」）代表同盟國指揮日本政府的運作。是年12月15日，GHQ對日本政府頒佈了名為《神道指令》<sup id="fnref:10"><a href="#fn:10" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="《神道指令》（英文：Shinto Directive）全稱為《国家神道、神社神道ニ対スル政府ノ保証、支援、保全、監督並ニ弘布ノ廃止ニ関スル件》（英文：Abolition of Governmental Sponsorship, Support, Perpetuation, Control, and Dissemination of State Shinto），亦稱「SCAPIN-448」（盟軍最高司令部訓令第448号）。
">[10]</span></a></sup>的命令，其中禁止了「大東亜戦争」等與軍國主義緊密關聯的詞語的使用。</p>
<center class="half">
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="神道指令.png" width = "100%" alt=""/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 0px;">
      《神道指令》（英文版），第3頁
      </div>
      <br>
</center>

<p>受此影響，翌年3月，日本政府即廢止了與二戰相關的「支那事変従軍記章」和「大東亜戦争従軍記章」<sup id="fnref:11"><a href="#fn:11" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="昭和21年3月20日，樞密院立案審查通過了《大東亜戦争従軍記章令廃止等ノ件》。昭和21年3月29日，天皇發佈《昭和21年勅令第177号》，正式廢止「支那事変従軍記章」和「大東亜戦争従軍記章」。
">[11]</span></a></sup>。</p>
<p><center class="half">
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="廃止.jfif" width = "50%" alt=""/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 0px;">
      《昭和21年勅令第177号》，登載於昭和21年03月30日的《官報》
      </div>
      <br>
</center><br>而關於其他戰前的從軍記章，政府根據日本國憲法，亦均作出了實效性已喪失的認定。<sup id="fnref:12"><a href="#fn:12" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="詳見昭和23年《栄典法案 (第2回国会閣法第110号)》附則第十五條。另外，在隸屬於國會的國立國會圖書館運營的「[日本法令索引](https://hourei.ndl.go.jp)」網站上，也可查閱到相關從軍記章的制定法令均已失效。
">[12]</span></a></sup></p>
<p>在這之後的很長一段時間內，最初制定從軍記章的法令《賞牌従軍牌制定ノ件》（或稱《勲章従軍記章制定ノ件》<sup id="fnref:2"><a href="#fn:2" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="這一改動來源於《明治9年太政官布告第141号》，《賞牌従軍牌制定ノ件》亦因此更名為《勲章従軍記章制定ノ件》。
">[2]</span></a></sup>）其實並未被修改或廢止。但在平成14年（2002），日本政府發佈了《勲章従軍記章制定の件等の一部を改正する政令》（《平成14年政令第277号》），刪除了原先法令中所有有關從軍記章的部分，並將之更名為《勲章制定ノ件》。至此，由於失去了制定相關的法令，從軍記章也是正式走向了終結。</p>
<h2 id="後記"><a href="#後記" class="headerlink" title="後記"></a>後記</h2><p>考慮到日本在戰後去軍事化的現實，從軍記章的廢除可以說是意料之中。然而，若是從回顧歷史的角度去瞭解已經消逝的從軍記章，我們也可以把它們當作對帝國戰爭史的精彩註解。每一塊從軍記章不僅包含著設計者的情感，也使後人得以窺見那個時代的一面。</p>
<p>最後回到《高堡奇人》這部作品。其實，作為一部架空歷史劇，其中所有的錯誤都可以被解釋為一個與現實不同的平行世界，但這些差錯對於劇情顯然是沒有必要的。不過對於歷史愛好者來說，這些小小的差誤與看到大和號從金門大橋下駛過時所帶來的震撼感相比，可能也都算不上什麼了。</p>
<p><center class="half">
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="4.jpg" width = "80%" alt=""/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 0px;">
      出自S03E02
      </div>
      <br>
</center></p>
<div id="footnotes"><hr><div id="footnotelist"><ol style="list-style: none; padding-left: 0; margin-left: 40px"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">1.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">準確來說，《賞牌従軍牌制定ノ件》是具有法令形式的太政官布告（《明治8年太政官布告第54号》）。太政官是明治初期的最高行政機關，於明治18年（1885）隨內閣制度的建立而廢止。<a href="#fnref:1" rev="footnote"> ↩</a></span></li><li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">2.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">這一改動來源於《明治9年太政官布告第141号》，《賞牌従軍牌制定ノ件》亦因此更名為《勲章従軍記章制定ノ件》。<a href="#fnref:2" rev="footnote"> ↩</a></span></li><li id="fn:3"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">3.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">「従軍牌ハ将卒ノ別ナク軍功ノ有無ヲ論セス凱旋ノ後従軍ノ徴ニ之ヲ賜フ」－《賞牌従軍牌制定ノ件》<a href="#fnref:3" rev="footnote"> ↩</a></span></li><li id="fn:4"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">4.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">下文中出現的寸、分，均指日本尺貫法中的日寸、日分（$1$日分$=\frac{1}{10}$日寸$=\frac{1}{330}$公尺），其與台灣台制中的台寸、台分是等同的（$1$台分$=\frac{1}{10}$台寸$=\frac{1}{330}$公尺），但與中國市制中的市尺、市分不同（$1$市分$=\frac{1}{10}$市寸$=\frac{1}{300}$公尺）。<a href="#fnref:4" rev="footnote"> ↩</a></span></li><li id="fn:5"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">5.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">「従軍記章ハ敵軍ヨリ奪獲シタル大砲ノ地金ヲ以テ製造スル」－《明治二十七八年従軍記章条例》<a href="#fnref:5" rev="footnote"> ↩</a></span></li><li id="fn:6"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">6.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">「黄色は満洲国の生れ出たことを表はして居る」－《造幣局七十年史》，第74頁，大蔵省造幣局編。<a href="#fnref:6" rev="footnote"> ↩</a></span></li><li id="fn:7"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">7.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">日本在明治24年（1891）將公制引入其度量衡制度，與尺貫法並用。大正10年（1921），日本官方廢除了尺貫法。但由於其在社會中的泛用程度，尺貫法一直沿用至昭和26年（1951）《計量法》頒佈。<a href="#fnref:7" rev="footnote"> ↩</a></span></li><li id="fn:8"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">8.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">數據出自《大東亜戦争従軍記章令廃止等ノ件》。<a href="#fnref:8" rev="footnote"> ↩</a></span></li><li id="fn:9"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">9.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">「今次ノ対米英戦争及今後情勢ノ推移ニ伴ヒ生起スルコトアルヘキ戦争ハ支那事変ヲモ含メ大東亜戦争ト呼称ス」－《今次戦争ノ呼称並ニ平戦時ノ分界時期等ニ付テ》，出自昭和16年12月12日內閣議會。<a href="#fnref:9" rev="footnote"> ↩</a></span></li><li id="fn:10"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">10.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">《神道指令》（英文：Shinto Directive）全稱為《国家神道、神社神道ニ対スル政府ノ保証、支援、保全、監督並ニ弘布ノ廃止ニ関スル件》（英文：Abolition of Governmental Sponsorship, Support, Perpetuation, Control, and Dissemination of State Shinto），亦稱「SCAPIN-448」（盟軍最高司令部訓令第448号）。<a href="#fnref:10" rev="footnote"> ↩</a></span></li><li id="fn:11"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">11.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">昭和21年3月20日，樞密院立案審查通過了《大東亜戦争従軍記章令廃止等ノ件》。昭和21年3月29日，天皇發佈《昭和21年勅令第177号》，正式廢止「支那事変従軍記章」和「大東亜戦争従軍記章」。<a href="#fnref:11" rev="footnote"> ↩</a></span></li><li id="fn:12"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">12.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">詳見昭和23年《栄典法案 (第2回国会閣法第110号)》附則第十五條。另外，在隸屬於國會的國立國會圖書館運營的「<a href="https://hourei.ndl.go.jp" target="_blank" rel="noopener">日本法令索引</a>」網站上，也可查閱到相關從軍記章的制定法令均已失效。<a href="#fnref:12" rev="footnote"> ↩</a></span></li></ol></div></div>]]></content>
      <categories>
        <category>歷史</category>
      </categories>
      <tags>
        <tag>日本</tag>
        <tag>軍事史</tag>
      </tags>
  </entry>
  <entry>
    <title>Python實現DH金鑰協商算法中的解密過程</title>
    <url>/2020/05/27/Python%E5%AF%A6%E7%8F%BEDH%E9%87%91%E9%91%B0%E5%8D%94%E5%95%86%E7%AE%97%E6%B3%95%E4%B8%AD%E7%9A%84%E8%A7%A3%E5%AF%86%E9%81%8E%E7%A8%8B/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>DH金鑰協商是一種建立金鑰的方法，而不是加密方法，由White field與Martin Hellman在1976年共同提出。下文先簡要介紹DH金鑰協商的原理，再介紹如何使用Python進行解密。</p>
<h1 id="建立金鑰"><a href="#建立金鑰" class="headerlink" title="建立金鑰"></a>建立金鑰</h1><p>任取大質數$q$，所有的運算都在$\mathbb Z_q$中進行。</p>
<p>假設發送方為Alice，接收方為Bob，雙方約定公開的DH參數$(q,g)$。</p>
<p>Alice選擇私鑰$a$，並計算公鑰$A=g^a\ ({\rm mod}\ q)$。</p>
<p>Bob選擇私鑰$b$，並計算公鑰$B=g^b\ ({\rm mod}\ q)$。</p>
<p>Alice和Bob分別通過$s=B^a\ ({\rm mod}\ q)$和$s=A^b\ ({\rm mod}\ q)$計算金鑰$s$。（由$B^a=g^{ab}=A^b\ ({\rm mod}\ q)$可確保Alice和Bob計算出的$s$是相同的）</p>
<ul>
<li>$q,g,A,B$是公開的，$a$只有Alice知道，$b$只有Bob知道。</li>
</ul>
<h1 id="解密"><a href="#解密" class="headerlink" title="解密"></a>解密</h1><p>DH金鑰協商只能通過遍歷解密，即對$a$（或$b$）進行從$1$至$q$的遍歷並逐一驗算是否滿足$A=g^a\ ({\rm mod}\ q)$。</p>
<p>代碼如下（其中的EEA和SAM已在《Python實現RSA算法的解密》中提及，不再贅述）：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">eea</span><span class="params">(a,b)</span>:</span> </span><br><span class="line">    x,x1=<span class="number">1</span>,<span class="number">0</span></span><br><span class="line">    y,y1=<span class="number">0</span>,<span class="number">1</span></span><br><span class="line">    r,r1=a,b </span><br><span class="line">    <span class="keyword">if</span> b==<span class="number">0</span>: </span><br><span class="line">        <span class="keyword">return</span> a,<span class="number">1</span>,<span class="number">0</span>  </span><br><span class="line">    <span class="keyword">while</span> r1!=<span class="number">0</span>:</span><br><span class="line">        q=r//r1</span><br><span class="line">        r,r1=r1,r-q*r1</span><br><span class="line">        x,x1=x1,x-q*x1</span><br><span class="line">        y,y1=y1,y-q*y1</span><br><span class="line">    <span class="comment"># r is gcd(a,b)</span></span><br><span class="line">    <span class="comment"># ax+by=r</span></span><br><span class="line">    <span class="keyword">return</span> r,x,y</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sam</span><span class="params">(a,e,n)</span>:</span></span><br><span class="line">    k=len(bin(e))<span class="number">-2</span></span><br><span class="line">    remainder=<span class="number">1</span></span><br><span class="line">    x=a </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(k): </span><br><span class="line">        <span class="keyword">if</span> bin(e)[-i<span class="number">-1</span>]==<span class="string">"1"</span>: </span><br><span class="line">            remainder*=x </span><br><span class="line">        x=x**<span class="number">2</span>%n </span><br><span class="line">    <span class="keyword">return</span> remainder%n</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dhke</span><span class="params">(q,g,A,B,limit)</span>:</span> </span><br><span class="line">    a=<span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> sam(g,a,q)!=A <span class="keyword">and</span> a&lt;=limit: </span><br><span class="line">        a+=<span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> a&gt;limit:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span> </span><br><span class="line">    <span class="keyword">return</span> sam(B,a,q)</span><br></pre></td></tr></table></figure>
<h2 id="例題"><a href="#例題" class="headerlink" title="例題"></a>例題</h2><p>假設Alice和Bob通過DH金鑰協商交換了$(q,g,A,B)$，求生成的金鑰$s$。特別地，${\rm log}_gA,{\rm log}_gB\leqslant 10^4$。$(q,g,A,B)$如下：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">q=<span class="number">179769313486231590772930519078902473361797697894230657273430081157732675805500963132708477322407536021120113879871393357658789768814416622492847430639474124377767893424865485276302219601246094119453082952085005768838150682342462881473913110540827237163350510684586298239947245938479716304835356329624227998859</span></span><br><span class="line">g=<span class="number">3</span></span><br><span class="line">A=<span class="number">112983575163002618947589666666735428181684517845144875096902910066434723952623016603393212501214127399908823223492478725971266042754892798177781267512821607470545283059472689034731313027619864228688466438258327552045437590203790635506728603774799021127049872571983254506993921153718739796769296097404717448108</span></span><br><span class="line">B=<span class="number">111772767805210239496365191691516881043394988196297062013853646674574743401042736447328886156429629192691601526398366088012736749454626686281467579205675084461989494513294624066074137247913037330040487275346913253345733429767781900977102687185378411660147190296412313303321533586102552123457499563789255321369</span></span><br></pre></td></tr></table></figure>
<p>使用代碼</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(dhke(q,g,A,B,<span class="number">10000</span>))</span><br></pre></td></tr></table></figure>
<p>可得</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s=<span class="number">10828112783453462381041707802056149866596392072243903940987459672779260675319522663099080388770903982546250524992420350200207624327420612300170620802665302905750045777684348125827484365007590718638373187936889967309324722655294992225815410914105072210725045953105019352457540772995508978315699107247398350128</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>技術</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>密碼學</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>漢字簡化的利弊分析</title>
    <url>/2022/10/19/%E6%BC%A2%E5%AD%97%E7%B0%A1%E5%8C%96%E7%9A%84%E5%88%A9%E5%BC%8A%E5%88%86%E6%9E%90/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>漢字簡化運動在中國曾有過三次官方嘗試，其中僅有一次得以成功施行並沿用至今，即1955年中國文字改革委員會所公佈的《漢字簡化方案草案》<sup id="fnref:1"><a href="#fn:1" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="即「一簡字」。若無特別說明，漢字簡化在本文中均指「一簡字」方案。
">[1]</span></a></sup>。另外兩次簡化運動，1935年中華民國教育部的《第一批簡體字表》和1977年中國文字改革委員會的《第二次漢字簡化方案（草案）》<sup id="fnref:2"><a href="#fn:2" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="即「二簡字」。
">[2]</span></a></sup>，均因各種原因未能成功推行。</p>
<p>然而自漢字簡化方案施行以來，對於它的爭議卻從未間斷過。以下列舉了簡化字在民眾實際使用過程中的各類相關問題，並結合所查閱到的各方觀點，以求對這一論題進行詳細論證。</p>
<h2 id="反對漢字簡化的理由"><a href="#反對漢字簡化的理由" class="headerlink" title="反對漢字簡化的理由"></a>反對漢字簡化的理由</h2><p>在反對者看來，簡化字與其所對應的繁體字相比，主要存在如下缺點：</p>
<h3 id="一、漢字結構被破壞"><a href="#一、漢字結構被破壞" class="headerlink" title="一、漢字結構被破壞"></a>一、漢字結構被破壞</h3><p>漢字的構造基於「六書」這一系統理論<sup id="fnref:3"><a href="#fn:3" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="「六書」一詞最早見於《周禮》：「保氏掌諫王惡，而養國子以道，乃教之六藝：一曰五禮；二曰六樂；三曰五射；四曰五馭；五曰六書；六曰九數。」，但《周禮》並未說明「六書」具體所指。後世學者對於六書的條例有不同的解釋方法，本文以許慎在《說文解字》中的相關解釋為準。許慎在书中指「六書」為「指事、象形、形聲、會意、轉注、假借」，並附解釋和字例：「指事者，視而可識，察而見意，上下是也。二曰象形。象形者，畫成其物，隨體詰詘，日月是也。三曰形聲。形聲者，以事為名，取譬相成，江河是也。四曰會意。會意者，比類合誼，以見指撝，武信是也。五曰轉注。轉注者，建類一首，同意相受，考老是也。六曰假借。假借者，本無其事，依聲託事，令長是也」。
">[3]</span></a></sup>，因而傳統漢字均源出有理，且蘊含其獨特的形和意。大部分漢字在被簡化時並未遵照「六書」理論，從而結構被破壞，無法讀音和解意。以下對「六書」部分條例作關於漢字簡化缺陷的舉例說明（「指事」<sup id="fnref:4"><a href="#fn:4" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="指事是用象征性的符號來表示一個事物的意義或在象形字上添加一個符號表示一種新的意義的造字法。有的指事字是全由記號構成的，例如許慎所舉「上、下」兩例（「上、下」兩字在《說文解字》中的古字形為「丄、丅」），都由橫豎兩道的相對位置來表達上或下的方位概念；而有的指事字是在成字部件（大多是象形字）上增加記號構成的，其中記號起指示字義的作用，例如在「刀」刃部加「丶」指示刀刃的位置，是為「刃」字；或是在「木」的不同位置加「一」：下部加「一」指示樹根的位置，是為「本」字；中部加「一」指示樹幹的位置，是為「朱」字（「朱」為「株」之本字）；上部加「一」指示樹梢的位置，是為「末」字。">[4]</span></a></sup>所成字普遍筆畫少且高度符號化，因此幾乎沒有被簡化；「轉註」和「假借」是用字法<sup id="fnref:5"><a href="#fn:5" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="一般認為，象形、指事是「造字法」，會意、形聲是「組字法」，轉注、假借是「用字法」。
">[5]</span></a></sup>，所成字的簡化與結構破壞無關，因此均不作討論）：</p>
<center class="half">
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="許慎.jpg" width = "20%" alt=""/>
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">
      許慎（≈30－≈124）
      </div>
</center>

<h4 id="（一）-象形"><a href="#（一）-象形" class="headerlink" title="（一）　象形"></a>（一）　象形</h4><p>象形文來自於圖畫文字，但減弱了圖畫性質，增強了象徵性質。象形是一種最原始的造字方法，其他造字法均以象形文作基礎，拼合、減省或增刪象徵性符號而成。</p>
<p>大多象形字經簡化後脫離了原本描畫的具體事物的形狀，已不再具「象形」之意。例如「馬」下部的「灬」原為描畫四足，卻簡化為了「<u>一</u><sup id="fnref:6"><a href="#fn:6" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label=" 為與繁體字區別，本文中出現的所有簡體字均以下橫線作標註。
">[6]</span></a></sup>」，成為「<u>马</u>」；「龜」的左部兩足甚至直接消失，成為「<u>龟</u>」；左首右尾的「龍」經簡化後成為「<u>龙</u>」，已無一絲龍之形狀。</p>
<h4 id="（二）-形聲"><a href="#（二）-形聲" class="headerlink" title="（二）　形聲"></a>（二）　形聲</h4><p>形聲字由表義之「形符」與表音之「聲符」（與所成字的音不一定完全相同）所構成。</p>
<p>對形聲字的簡化往往會將其形符或聲符（一般為聲符）改為它字，從而失去形聲意義。一個典型的例子是以「雚$^{ㄍㄨㄢˋ／ㄏㄨㄢˊ}$」為聲符的「觀$^{ㄍㄨㄢ}$」「歡$^{ㄏㄨㄢ}$」<sup id="fnref:7"><a href="#fn:7" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label=" 關於「歡」之形符「欠」，徐鍇《說文解字繫傳》有云：「喜動聲氣，故从欠」。
">[7]</span></a></sup>二字，簡化後「雚」成為「<u>又</u>$^{ㄧㄡˋ}$」，已無表音之意。</p>
<h4 id="（三）-會意"><a href="#（三）-會意" class="headerlink" title="（三）　會意"></a>（三）　會意</h4><p>會意字由兩個或多個獨體字<sup id="fnref:8"><a href="#fn:8" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="「獨體字」即「六書」中的象形字和指事字，與「合體字」相對。
">[8]</span></a></sup>組成，以所組成的字形或字義，合併起來，表達此字的意思。</p>
<p>對會意字的簡化往往會將其中某一個或多個組成部分改為它字，甚至直接刪去。由於會意字的每一個組成部分均會對其提供一定的意義，組成部分的更動也就造成了解意的困難。例如獨體字「冓$^{ㄍㄡˋ}$」<sup id="fnref:9"><a href="#fn:9" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="「冓」為「遘$^{ㄍㄡˋ}$」之本字。
">[9]</span></a></sup>，《說文解字》：「交積材也。凡冓之屬皆从冓。」，其與獨體字「木」合為「構」字，意為架積交接木材，後又引申為建築之意。然而簡化後「冓」成為「<u>勾</u>」，已無交積之意。值得一提的是，與之相似的「媾$^{ㄍㄡˋ}$」字卻並未被簡化，這也是下文將會提及的簡化標準不統一的一個例證。</p>
<h3 id="二、多繁對一簡問題"><a href="#二、多繁對一簡問題" class="headerlink" title="二、多繁對一簡問題"></a>二、多繁對一簡問題</h3><p>若要說破壞漢字結構僅會對漢字的溯源和解構造成影響，那麼繁簡字不能一一對應所造成的不利影響，則廣泛存在於漢字實際使用的過程中。在此之中，「多繁對一簡」所產生的問題又比「多簡對一繁」更為突出，因此以下僅討論多繁對一簡問題。</p>
<h4 id="（一）-意義不清"><a href="#（一）-意義不清" class="headerlink" title="（一）　意義不清"></a>（一）　意義不清</h4><p>簡化運動伊始，古文字學家陳夢家就曾直言：「文字是需要簡單的，但不能混淆。這些簡化字，毛病出得最多的是同音替代和偏旁省略。簡化後有些字混淆了」<sup id="fnref:10"><a href="#fn:10" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="陳夢家．慎重一點「改革」漢字［J］．文匯報，1957-5-17。
">[10]</span></a></sup>。</p>
<p>當一個漢字的意義增多時，其表意功能也在同時被削弱，這時就更需要依賴上下文才能準確理解其意義。對於一些極端情況，多繁對一簡甚至會造成字詞意義不清，從而引發歧義。例如「<u>船只停在吴港</u>」一句，其中「<u>只</u>」字應該如何理解？若是對應副詞「只$^{ㄓˇ}$」，則表「僅僅、惟一」之意；若是對應量詞「隻$^{ㄓ}$」，則與「船」字組成「船隻」一詞，並沒有「僅僅、惟一」的意思。</p>
<p>當然，在現代白話文中，這種極端案例並不多見，但在文學古籍等講究精煉用字的領域，一味簡化則很容易造成誤解。典型的例子是「<u>余一人</u>」，若是將其理解為「余一人」，意思是「我一個人」；而若是將其理解為「餘一人」，意思卻變成了「多出一個人」，這種歧義對簡體化後的古文的閱讀造成了相當不利的影響。</p>
<p>另，在杜甫的詩句「渚清沙白鳥飛迴」<sup id="fnref:11"><a href="#fn:11" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="出自杜甫《登高》，《全唐詩》卷二百二十七。
">[11]</span></a></sup>中，表「迴旋、環繞」之意的「迴$^{ㄏㄨㄟˊ}$」一字在簡化被併入了「回」字。許多人在閱讀「<u>渚清沙白鸟飞回</u>」這一簡化後的版本時，若無特別註釋，很容易會將其中「<u>回</u>」字理解為「返、歸」之意，從而無法正確體會詩詞所描寫的情景。</p>
<h4 id="（二）-人名相關"><a href="#（二）-人名相關" class="headerlink" title="（二）　人名相關"></a>（二）　人名相關</h4><p>從古至今，人們在為後代取名時往往會對其中用字精挑細選，這是因為每個字各自的音、形、意都賦予給整個人名，其中多能體現父輩對後代的期許，蘊含了獨特的意味。因此，變更某一人名中的單字，可能就會曲解其人名的具體含義。這種對於人名粗暴的簡化實際上是對人名的篡改，也是對姓名文化的不尊重。</p>
<p>比這更嚴重的是對姓氏的篡改。姓氏是人與祖輩聯繫的紐帶，也是探尋祖先起源的重要一物。篡改姓氏，很有可能會導致各種混亂，對相關姓氏的人造成莫大影響。例如在《華夏百家姓探源》一書中有提到，「党」和「黨」原本是不同的兩個姓氏，「黨」氏起源於馮翊，祖宗姬氏；「党」氏則是上古聖君夏禹的後裔，支裔世居党項遂姓党氏。<sup id="fnref:12"><a href="#fn:12" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="馮翊$^{ㄈㄥˊ ㄧˋ}$​、党項均是古地名。
">[12]</span></a></sup>在漢字簡化中「黨」被併入「党」字，從此兩姓不分。</p>
<p>還有一個更為複雜的例子是「鐘／鍾」字，兩字意義如下：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>繁體字</th>
<th>字義</th>
<th>組詞</th>
</tr>
</thead>
<tbody>
<tr>
<td>鐘</td>
<td>一種中空的響器；計時的器具</td>
<td>鐘鼎、鬧鐘</td>
</tr>
<tr>
<td>鍾</td>
<td>（情感等）集中、積聚</td>
<td>鍾愛、鍾情</td>
</tr>
</tbody>
</table>
</div>
<p>但除此以外，兩字同時也均可作為姓氏使用。「鍾」姓由來已久，是春秋時代宋國開國始祖宋微子之後，三國時魏國潁川郡有名人鍾繇、鍾會父子<sup id="fnref:13"><a href="#fn:13" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="張學銜．華夏百家姓探源［M］．南京大學出版社，2000.1。
">[13]</span></a></sup>；而「鐘」姓卻是稀有漢姓，主要存在於臺灣<sup id="fnref:14"><a href="#fn:14" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="「鐘」姓在臺灣相對常見。在中華民國內政部戶政司於2018年所公佈的人口調查報告《全國姓名統計分析(107年)》中，「鐘」姓排行第87位，人數28,662人；「鍾」姓排行第34位，人數153,701人。
">[14]</span></a></sup>、福建等地。</p>
<p>「鐘」和「鍾」在曾在漢字簡化中被共同歸於單一「<u>钟</u>」字。然而，中國教育部和國家語言文字工作委員會在2013年發佈的新版《通用規範漢字表》中，恢復了以前曾被歸為異體字的「<u>锺</u>」字，以作「鍾」字作為姓氏人名時的簡化字，與「鐘」字區別。在2016年出版的《現代漢語詞典第七版》中，「<u>钟</u>」字已經沒有了姓氏的含義。雖然兩字已分別簡化，但許多原為「鍾」姓的人士繼續沿用「<u>钟</u>」字，且中國媒體及大眾亦普遍不使用「<u>锺</u>」字。不過令人詫異的是，雖然社會對於「<u>钟</u>／<u>锺</u>」的新規範過於冷淡，一些名字中含「鍾」字的名人，例如文學家錢鍾書的名字卻很快在中國的各種簡體書籍和媒體報道中由「<u>钱钟书</u>」變成了「<u>钱锺书</u>」。</p>
<p>另外，1975年推行的二簡字，更是將「蕭」的一簡字「<u>萧</u>」再度簡化成為「<u>肖</u>」字，造成「蕭／肖」姓氏合併。即使後來二簡字很快就被廢除，這次更動對「蕭」、「肖」兩個氏族造成的影響仍然延續至今。</p>
<h4 id="（三）-簡繁轉換困難"><a href="#（三）-簡繁轉換困難" class="headerlink" title="（三）　簡繁轉換困難"></a>（三）　簡繁轉換困難</h4><p>目前對於簡體字和繁體字，均分別有數個地區<sup id="fnref:15"><a href="#fn:15" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="繁體字主要使用於台灣、香港、澳門等地，而簡體字主要使用於中國大陸地區、新加坡、馬來西亞以及緬北等地。
">[15]</span></a></sup>和在地的眾多人口所使用。隨著網路的快速發展和各地間文化交流的不斷加深，簡繁轉換的重要性日益提高。然而，由於中國大陸對漢字簡化時存在多繁對一簡的問題，因此準確的簡繁轉換（尤其是對於電腦軟體）相當困難。以下列舉一些典型的常見字多繁對一簡的情況：「<u>发</u>－發／髮」、「<u>丑</u>－丑／醜」、「<u>复</u>－復／複／覆」、「<u>系</u>－系／係／繫」、「<u>面</u>－面／麵」、「<u>脏</u>－臟／髒」、「<u>淀</u>－淀／澱」、「<u>尽</u>－盡／儘」、「<u>制</u>－制／製」、「<u>冲</u>－沖<sup id="fnref:16"><a href="#fn:16" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="「沖」在中國大陸地區是「<u>冲</u>」的異體字，在臺灣是正字。
">[16]</span></a></sup>／衝」。</p>
<p>除去上述多繁對一簡的情況，還有少數異體字也同樣會在簡繁轉換遇到困難。例如簡體字「<u>勋</u>」，其對應繁體字「勛」和異體字「勳」，一般情況下，將「<u>勋</u>」直接轉換為「勛」是沒有問題的。但在某些人名中使用的卻是「勳」字，例如「張勳（<u>张勋</u>）」、「習仲勳（<u>习仲勋</u>）」就常被錯譯為「張勛」、「習仲勛」。</p>
<p>還有一個非常特殊的情況：「計畫」和「計劃」。「畫」為名詞，意「計策、計謀」；「劃」為動詞，意「設計、籌謀」，兩字均有顯然的象形意義。雖然在漢字簡化中「畫」和「劃」分別簡化成了「<u>画</u>」和「<u>划</u>」，但名詞「計畫」和動詞「計劃」卻逐漸被歸於「<u>计划</u>」一詞，由此造成該詞繁化的困難。</p>
<p>近年來，由於機械學習相關領域的快速發展，一些專業的翻譯軟體正在逐漸提升簡繁轉換的正確性。但至少到現在，簡繁轉換仍然是一個沒有得到完全解決的問題。</p>
<h3 id="三、形似字的大量產生"><a href="#三、形似字的大量產生" class="headerlink" title="三、形似字的大量產生"></a>三、形似字的大量產生</h3><p>許多原來不相似的漢字，在簡化後反而變成形似字，造成辨識困難，例如「<u>风</u>（風）、<u>凤</u>（鳳）」、「<u>闲</u>（閒）、<u>闭</u>（閉）」、「<u>竞</u>（競）、<u>竟</u>（竟）」、「<u>厂</u>（廠）、<u>广</u>（廣）」、「<u>农</u>（農）、<u>衣</u>（衣）」、「<u>开</u>（開）、<u>升</u>（升）」、「<u>晋</u>（晉）、<u>普</u>（普）」等。這些形似字不僅容易誤寫誤讀，也在一定程度上對剛識字的學生有負面影響。</p>
<p>除此以外，部分偏旁的簡化也導致了許多形似字的出現。例如偏旁「訁$^{ㄧㄢˊ}$」簡化為「<u>讠</u>$^{ㄧㄢˊ}$」後與偏旁「氵$^{ㄕㄨㄟˇ}$」難以分辨（尤其是在較為潦草的手寫體中），由此也產生了諸如「<u>计</u>（計）、<u>汁</u>（汁）」、「<u>订</u>（訂）、<u>汀</u>（汀）」的形似字。</p>
<p>當然在繁體字中也有部分形似字存在（例如「書（<u>书</u>）、晝（<u>昼</u>）、畫（<u>画</u>）」和「興（<u>兴</u>）、與（<u>与</u>）」，但數量實際上是比簡體字少很多的。這是因為漢字在結構簡化中筆畫減少，導致不同字的區別也變小，形似字也就越容易出現。</p>
<h3 id="四、破壞字體美觀"><a href="#四、破壞字體美觀" class="headerlink" title="四、破壞字體美觀"></a>四、破壞字體美觀</h3><p>許多漢字簡化的反對者都認為簡體字打破了原有結構和線條的意義，使得漢字失去了原有的美感。</p>
<p>對稱結構的字往往具有獨特的美感，然而其中許多字在簡化過程中被改為了非對稱結構，例如「東（<u>东</u>）」、「車（<u>车</u>）」、「畢（<u>毕</u>）」、「華（<u>华</u>）」等字。另有一些字原本擁有緊密結實的結構，卻在簡化後變得支離破碎，例如「網（<u>网</u>）」、「畫（<u>画</u>）」等字。</p>
<p>有人也許會說美感由主觀判斷，不具普遍性。對於這種反駁，書法作品應該是一個很好的例證。即使是在漢字簡化深入中國大陸社會各個角落的今天，作為漢字之美的最佳體現，書法作品中也少見使用簡體字。有批評者言：</p>
<p>「書法的美與文字的觀念化意義沒有什麼關係……但繁體字與簡體字卻有書法上的後果。減少筆劃，影響了漢字的書法美，所以主張漢字改革『必須走世界文字共同的拼音方向』的毛澤東，他寫自己詩詞的書法體時，終身用繁體字，從來不用他提倡的簡體字。而拼音化後的漢字，無疑將完全失去其書法藝術。到目前為止，還沒有見過成功的簡體字書法作品，儘管中國人歷史上的書寫，也用行書、草書和某些簡體，但那是出自歷史與書寫脈絡本身的風氣所致，與行政頒佈的硬性簡體字系統大大不同。」<sup id="fnref:17"><a href="#fn:17" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="張祥龍．北京大學外國哲學研究所暨哲學系．為什麼中國書法能成為藝術？──書法美的現象學分析，2009。
">[17]</span></a></sup></p>
<p>1992年12月，時任中共中央總書記江澤民對語言文字工作提出了若干意見，重申了官方的一貫態度。其中一條是「書法是一種藝術創作，寫繁體字，還是寫簡化字，應尊重作者的風格和習慣，可以悉聽尊便」<sup id="fnref:18"><a href="#fn:18" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="李嵐清．在紀念文字改革和現代漢語規範化工作40週年大會上的講話［J］．語文建設，1996，0(2)。
">[18]</span></a></sup>，這也可以看作是推行漢字簡化的官方對於繁體書法的讓步。</p>
<p>當然，必須說明的是，繁體字中亦存在著許多手寫不美觀的字，例如頭重較輕的「覺」、「學」、「興」、「與」等字，以及子結構筆畫過多的「關」、「齡」、「纖」、「獻」、「籌」等字。在字號較小的情況下書寫這些字會使得字的不同部位大小不一，從而使得整個字不甚美觀，然而此問題在將字號放大後可以得到顯著改善。</p>
<h3 id="五、不識繁體字的現象"><a href="#五、不識繁體字的現象" class="headerlink" title="五、不識繁體字的現象"></a>五、不識繁體字的現象</h3><p>由於網路的發達，跨文化交流愈趨頻繁，簡體字使用者在研讀古文和與港澳台人士交流等方面，確實存在認識繁體字的需求。然而，簡體字使用者普遍未曾受過系統的繁體字教育，他們中的大多數學習繁體字的唯一途徑便是閱覽繁體字的書籍（例如漫畫、小說）和影像（例如電影、電視劇）。這種環境可以使人能夠識別較為常用的繁體字，卻不能讓人學會書寫繁體字。</p>
<p>而且需要注意的是，有些字可能出現於以上學習媒介的概率不太高，但在實際生活中卻很常用，例如「洩」、「膚」、「徵」、「塵」、「驚」、「憑」、「遷」、「鬱」、「籲」等，大部分簡體字使用者都不熟悉甚至不認識。而對於某些更難見到的字，例如「黴」、「繭」、「釁」、「瓊」、「繡」、「鬨」<sup id="fnref:19"><a href="#fn:19" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="「鬨$^{ㄏㄨㄥˋ}$」在中國大陸地區是「哄$^{ㄏㄨㄥˋ}$」的異體字，在臺灣是正字。
">[19]</span></a></sup>等，就幾乎沒有簡體字使用者認識了。</p>
<p>另外，即使這些人可以識別大部分繁體字，其本質也是因為他們可以根據上下文和包含該字的詞語來進行解讀，並非真正掌握了這些繁體字與簡體字的對應關係，因此也不能算作真正學會了繁體字。</p>
<p>不識繁體字更帶來了諸多附加影響，其中一個引人注目的方面是對文化傳承的破壞。南懷瑾在一次講學中曾言：「中華文化數千年都是在用繁體字，但將漢字簡化後不識繁體字，不可以很好地了解與傳承中華文化」<sup id="fnref:20"><a href="#fn:20" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="南懷瑾．太湖大學堂家長日上的講話，2012（[影片連結](https://www.youtube.com/watch?v=pF-lMW9z8U0)）。
">[20]</span></a></sup>。曾任中國全國政協委員的藝術家梅葆玖也多次在全國政協會議上提案恢復繁體字，給出的理由也是「繁體字非常美，中國傳統文化不能丟」。</p>
<h2 id="支持漢字簡化的理由"><a href="#支持漢字簡化的理由" class="headerlink" title="支持漢字簡化的理由"></a>支持漢字簡化的理由</h2><p>許多簡體字大幅減少了繁體字中含有的筆畫，另外因為多繁對一簡的情況，多字兼併而減少了總字數，支持者由此認為簡體字更能夠方便書寫，且能減少記憶，亦更容易學習。但實際上，使用簡化字能夠節省的時間極為有限，現代人多數情況下均使用電子產品打字輸入，手寫漢字的機會已經減少了許多。即使是在手寫時，人們也常用行書或草書連筆書寫漢字，在這種情況下，繁體字的手寫速度比簡體字慢不了多少，簡體字書寫的優勢也並不大。這種優勢與上文所提到的多字兼併情況帶來的負面影響相比，顯然是不值一提。</p>
<p>也有支持者認為簡體字易於學習，能夠有效提高識字率，在掃除文盲時發揮了重大作用。這個觀點確實沒有錯，但是存在著時間局限性。對於上世紀中期貧弱的中國大陸，若要快速提高民眾識字水平，漢字簡化是幾乎唯一的選擇。但到了社會經濟已經相對發達的今天，這個規則就不再適用了。事實上，識字水平與社會經濟發展及教育的普及提高有很大關係，反而和字體難易程度的關係不是很大。保持繁體字的港澳台，識字率長期遠高中國大陸地區，其主要原因正是在於地區整體的經濟富裕使得政府能夠投入大量人力財力於識字教育。</p>
<h2 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h2><p>簡體字自出世以來一直得到官方的大力推廣，在半個多世紀的發展中已經深入了中國大陸的各個角落，此時若要棄簡從繁，很有可能會對社會造成不比當年棄繁從簡時小的衝擊。另外，全面棄用簡體字也不會得到已經熟悉簡體字的民眾的廣泛支持。因此在今天，分析討論漢字簡化的利弊，並不是一定要改變現狀，而是為了從中汲取教訓，在以後出現類似於漢字簡化的社會巨大變動之時，可以儘量減少對於社會和民眾的不良影響。</p>
<p>在激烈的爭論中，除了完全廢除簡體字和完全保留簡體字的兩方主張以外，現今也出現了相當一部分溫和的簡體字反對者。他們的觀點更偏向漸進式的改良，即對現行的簡化政策作部分修正，以在追求對社會影響最小化的同時儘量解決繁簡混亂的現狀。不過可以肯定的是，對於現行政策的存廢更正從以往至今後都會是一個非常複雜的問題，本文在此便不再多做敘述。</p>
<h2 id="引用文獻"><a href="#引用文獻" class="headerlink" title="引用文獻"></a>引用文獻</h2><ol>
<li>許慎．說文解字：大字本［M］．中華書局，2013.7。</li>
<li>徐鍇．說文解字繫傳［M］．中華書局，2017.5。</li>
<li>段玉裁．說文解字註［M］．中華書局，2013.7。</li>
<li>中國社會科學院語言研究所詞典編輯室．現代漢語詞典第七版［W］．商務印書館，2016.9。</li>
<li>楊合鳴．簡體字繁體字異體字對照字典［W］．崇文書局，2019.10。</li>
<li>周行健．漢字規範字與繁體字、異體字對照小字典［W］．商務印書館，2022.3。</li>
<li>通用規範漢字表［S］．中國教育部、國家語言文字工作委員會，2013.6。</li>
<li>重編國語辭典修訂本［W］．中華民國教育部，1994.9。</li>
</ol>
<h2 id="備註"><a href="#備註" class="headerlink" title="備註"></a>備註</h2><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style: none; padding-left: 0; margin-left: 40px"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">1.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">即「一簡字」。若無特別說明，漢字簡化在本文中均指「一簡字」方案。<a href="#fnref:1" rev="footnote"> ↩</a></span></li><li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">2.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">即「二簡字」。<a href="#fnref:2" rev="footnote"> ↩</a></span></li><li id="fn:3"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">3.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">「六書」一詞最早見於《周禮》：「保氏掌諫王惡，而養國子以道，乃教之六藝：一曰五禮；二曰六樂；三曰五射；四曰五馭；五曰六書；六曰九數。」，但《周禮》並未說明「六書」具體所指。後世學者對於六書的條例有不同的解釋方法，本文以許慎在《說文解字》中的相關解釋為準。許慎在书中指「六書」為「指事、象形、形聲、會意、轉注、假借」，並附解釋和字例：「指事者，視而可識，察而見意，上下是也。二曰象形。象形者，畫成其物，隨體詰詘，日月是也。三曰形聲。形聲者，以事為名，取譬相成，江河是也。四曰會意。會意者，比類合誼，以見指撝，武信是也。五曰轉注。轉注者，建類一首，同意相受，考老是也。六曰假借。假借者，本無其事，依聲託事，令長是也」。<a href="#fnref:3" rev="footnote"> ↩</a></span></li><li id="fn:4"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">4.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">指事是用象征性的符號來表示一個事物的意義或在象形字上添加一個符號表示一種新的意義的造字法。有的指事字是全由記號構成的，例如許慎所舉「上、下」兩例（「上、下」兩字在《說文解字》中的古字形為「丄、丅」），都由橫豎兩道的相對位置來表達上或下的方位概念；而有的指事字是在成字部件（大多是象形字）上增加記號構成的，其中記號起指示字義的作用，例如在「刀」刃部加「丶」指示刀刃的位置，是為「刃」字；或是在「木」的不同位置加「一」：下部加「一」指示樹根的位置，是為「本」字；中部加「一」指示樹幹的位置，是為「朱」字（「朱」為「株」之本字）；上部加「一」指示樹梢的位置，是為「末」字。<a href="#fnref:4" rev="footnote"> ↩</a></span></li><li id="fn:5"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">5.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">一般認為，象形、指事是「造字法」，會意、形聲是「組字法」，轉注、假借是「用字法」。<a href="#fnref:5" rev="footnote"> ↩</a></span></li><li id="fn:6"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">6.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">為與繁體字區別，本文中出現的所有簡體字均以下橫線作標註。<a href="#fnref:6" rev="footnote"> ↩</a></span></li><li id="fn:7"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">7.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">關於「歡」之形符「欠」，徐鍇《說文解字繫傳》有云：「喜動聲氣，故从欠」。<a href="#fnref:7" rev="footnote"> ↩</a></span></li><li id="fn:8"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">8.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">「獨體字」即「六書」中的象形字和指事字，與「合體字」相對。<a href="#fnref:8" rev="footnote"> ↩</a></span></li><li id="fn:9"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">9.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">「冓」為「遘$^{ㄍㄡˋ}$」之本字。<a href="#fnref:9" rev="footnote"> ↩</a></span></li><li id="fn:10"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">10.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">陳夢家．慎重一點「改革」漢字［J］．文匯報，1957-5-17。<a href="#fnref:10" rev="footnote"> ↩</a></span></li><li id="fn:11"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">11.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">出自杜甫《登高》，《全唐詩》卷二百二十七。<a href="#fnref:11" rev="footnote"> ↩</a></span></li><li id="fn:12"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">12.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">馮翊$^{ㄈㄥˊ ㄧˋ}$​、党項均是古地名。<a href="#fnref:12" rev="footnote"> ↩</a></span></li><li id="fn:13"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">13.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">張學銜．華夏百家姓探源［M］．南京大學出版社，2000.1。<a href="#fnref:13" rev="footnote"> ↩</a></span></li><li id="fn:14"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">14.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">「鐘」姓在臺灣相對常見。在中華民國內政部戶政司於2018年所公佈的人口調查報告《全國姓名統計分析(107年)》中，「鐘」姓排行第87位，人數28,662人；「鍾」姓排行第34位，人數153,701人。<a href="#fnref:14" rev="footnote"> ↩</a></span></li><li id="fn:15"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">15.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">繁體字主要使用於台灣、香港、澳門等地，而簡體字主要使用於中國大陸地區、新加坡、馬來西亞以及緬北等地。<a href="#fnref:15" rev="footnote"> ↩</a></span></li><li id="fn:16"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">16.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">「沖」在中國大陸地區是「<u>冲</u>」的異體字，在臺灣是正字。<a href="#fnref:16" rev="footnote"> ↩</a></span></li><li id="fn:17"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">17.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">張祥龍．北京大學外國哲學研究所暨哲學系．為什麼中國書法能成為藝術？──書法美的現象學分析，2009。<a href="#fnref:17" rev="footnote"> ↩</a></span></li><li id="fn:18"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">18.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">李嵐清．在紀念文字改革和現代漢語規範化工作40週年大會上的講話［J］．語文建設，1996，0(2)。<a href="#fnref:18" rev="footnote"> ↩</a></span></li><li id="fn:19"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">19.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">「鬨$^{ㄏㄨㄥˋ}$」在中國大陸地區是「哄$^{ㄏㄨㄥˋ}$」的異體字，在臺灣是正字。<a href="#fnref:19" rev="footnote"> ↩</a></span></li><li id="fn:20"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">20.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">南懷瑾．太湖大學堂家長日上的講話，2012（<a href="https://www.youtube.com/watch?v=pF-lMW9z8U0" target="_blank" rel="noopener">影片連結</a>）。<a href="#fnref:20" rev="footnote"> ↩</a></span></li></ol></div></div>]]></content>
      <categories>
        <category>語言</category>
      </categories>
      <tags>
        <tag>漢字</tag>
      </tags>
  </entry>
  <entry>
    <title>論文「Combining satellite imagery and machine learning to predict poverty」的Paper Review</title>
    <url>/2023/02/14/%E8%AB%96%E6%96%87%E3%80%8CCombining%20satellite%20imagery%20and%20machine%20learning%20to%20predict%20poverty%E3%80%8D%E7%9A%84Paper%20Review/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h2 id="論文摘要"><a href="#論文摘要" class="headerlink" title="論文摘要"></a>論文摘要</h2><p>這篇論文主要討論了一個資料分析在社科領域的應用方法，即根據高解析度衛星圖像估算消費支出和資產財富，並以此預測某一地區的貧窮程度。</p>
<p>首先，作者提到了現實的需求：稀缺的資源和外部的援助需要得到精準地分配，即向最貧困地區的發展傾斜，特別地，這種精準分配對於擁有眾多生活在國際貧困線附近及以下的人口的極度貧困國家更為重要。然而，許多發展中國家由於自身政府羸弱的財政統計系統，而缺乏有關經濟發展關鍵指標的可靠的資料。以最為貧窮的非洲大陸為例，在2000年至2010年期間，59個非洲國家中有39個國家進行的全國性的經濟調查少於兩次，另有阿爾及利亞，索馬利亞，利比亞，波札那等19國甚至从未進行此類調查。</p>
<p>鑒於擴大傳統資料收集工作的困難，科學家開始考慮使用一些其他的易於收集的資料對地區的經濟資料進行預測。作者首先提及了兩類資料，但隨即列出了兩者的缺點以進行反駁：</p>
<ol>
<li>來自手機的資料（例如社交媒體或手機網路的資料）：由於依賴不同的專有資料集，可能難以在各國之間推廣。</li>
<li>衛星圖像的夜晚光照強度資料：無法區分生活著國際貧困線附近及以下人口的地區的經濟活動差異，也難以區分人口稠密的貧困地區和人口稀少的富裕地區。</li>
</ol>
<p>然後，作者展示了他們實現的一種新穎的機械學習方法，用於從高解析度白天衛星圖像中提取社會經濟資料。這種方法的簡要過程如下：</p>
<ol>
<li>需要注意的是，整個方法基於一個前提，即高解析度衛星圖像可能包含了大量可能與經濟相關的景觀特徵的資訊。</li>
<li>首先，在龐大的ImageNet資料集上預訓練一個CNN模型，這個模型高度非線性，能夠從圖像中提取複雜的特徵。</li>
<li>對於最初提到的全國性的經濟調查，即使是那些進行過調查的國家，每個國家的資料集中也只含有數百個可用於訓練的資料點。考慮到資料的缺乏，顯然不能直接使用全國性的經濟調查資料訓練大型CNN模型。</li>
<li>為了解決資料稀缺問題，作者選擇使用遷移學習的方法。他們利用之前提到的豐富的衛星圖像的夜晚光照強度資料集，先微調CNN模型，使其被訓練為能夠預測與輸入的白天衛星圖像相對應的夜間光照強度。</li>
<li>作者認為某些解釋夜晚光照強度變化的特徵也可以預測經濟結果。儘管夜晚光照強度在較低支出水平下變化不大，但調查資料表明，白天衛星圖像中可見的其他特徵，例如屋頂材料和到市區的距離，與支出大致呈線性變化。由於夜晚光照強度和這些特徵都顯示出較高收入水平的變化，因此對夜晚光照強度進行訓練可以幫助CNN學習提取此類特徵，從而更有效地捕捉整個收入水平分佈中的變化。</li>
<li>最後，作者使用調查資料中的平均值以及CNN從白天圖像中提取的相應圖像特徵，訓練出了可以估計集群級別（範圍大致相當於農村地區的村莊或城市地區的選區）的消費支出和資產財富的嶺回歸模型。</li>
</ol>
<p>經過評估，作者發現該遷移學習模型可以很好地預測多個非洲國家在集群級別上的平均家庭消費支出和資產財富，且明顯優於僅使用夜晚光照強度資料的方法。</p>
<h2 id="評論"><a href="#評論" class="headerlink" title="評論"></a>評論</h2><p>這篇論文雖然沒有很多機械學習方法上的創新，但它成功提供了一個相對精準的低成本的預測較小區域經濟狀況的方法，且尤其適用於缺乏全國性經濟調查的貧困的發展中國家。由於高解析度衛星圖像易於獲取且足夠精細，我們或許可以更加精準合理地分配對貧困地區（尤其是非洲大陸）國際性經濟援助。從這點來看，這篇論文確有較強的現實意義。</p>
<p>但同時也應意識到，這篇論文中的方法仍有缺陷。對於一個國家的資料訓練得到的模型並不能很好地用於其他國家經濟狀況的預測，一個可能的原因是衛星圖像資料並不包含能夠反映國家經濟政策和政治、宗教等制度的特徵，而這些因素與國家經濟的緊密聯繫是不可忽視的。</p>
<p>最後，在結合此方法進行實際的經濟援助前，我們仍需要結合更多其他領域的資料作出更準確的分析，例如國家或地區的政府腐敗程度或國民受教育程度，這些指標也會對地區受經濟援助後的預期成效有很大的影響。</p>
<h2 id="附"><a href="#附" class="headerlink" title="附"></a>附</h2><p>論文連結：<a href="https://www.science.org/doi/10.1126/science.aaf7894" target="_blank" rel="noopener">Combining satellite imagery and machine learning to predict poverty | Science</a></p>
<p>這篇Paper Review只是我在大學《資料探勘》課程的作業，水準不足請多見諒。另外，本文發表時間為2016年，考慮到機械學習領域的快速發展，這篇論文很可能已經過時。</p>
]]></content>
      <categories>
        <category>學術</category>
      </categories>
      <tags>
        <tag>機械學習</tag>
        <tag>社科</tag>
        <tag>Paper Review</tag>
      </tags>
  </entry>
</search>
